(window.onlineWebpackJsonp=window.onlineWebpackJsonp||[]).push([["ori.legacy.production.core"],{"+86U":function(module,exports){!function(window,$){"use strict";var self,level1=$(".w-cluster-nav .links-list li").children(".links-list a.first-level"),subList=".expandable li > a span.item-count";ori.addModule("categorySideMenu",{init:function(){self.productNumberHiding()},levelItemCountHiding:function(){var current=null,isClosed=!0;$(level1).click((function(event){var target=event.target.href?event.target:event.target.parentNode;null===current&&(current=target),current!==target&&!1===isClosed&&($(current).children(".item-count").toggle(),$(current.parentNode).find(subList).toggle()),$(this).children(".item-count").toggle(),$(target.parentNode).find(subList).toggle(),isClosed=current===target&&!isClosed,current=target}))},productNumberHiding:function(){$(".w-cluster-nav .links-list.js-accordion .item-count").hide()}}),self=ori.categorySideMenu,$((function(){self.init()}))}(window,jQuery)},"+DkX":function(module,exports){!function(window,$){"use strict";var self,urls=[],validNavigation=!1;function callOnLeavingSite(event){urls.forEach((function(url){!function callAjax(url,event){url&&(self.info("Browser closing; calling '%s'",url),jQuery.ajax({url:url,async:!(/Firefox[\/\s](\d+)/.test(navigator.userAgent)&&new Number(RegExp.$1)>=4),global:!1}))}(url)}))}ori.addModule("onLeavingSite",{init:function(){!function wireUpEvents(){$(window).on("beforeunload"+self.ns,(function(event){validNavigation||callOnLeavingSite()})),$(document).on("click"+self.ns,(function(event){var element=event.target;if("A"!==element.nodeName){var $parents=$(element).parents("a");element=$parents.length?$parents[0]:null}null!=element&&(validNavigation=element.host===window.location.host)})),$(document).on("submit"+self.ns,(function(event){validNavigation=!0}))}()},registerUrl:function(url){urls.push(url)},setNavigationValid:function(isValid){validNavigation=void 0===isValid||isValid}}),self=ori.onLeavingSite}(window,jQuery)},451:function(module,exports,__webpack_require__){module.exports=__webpack_require__("Cinf")},"6Zbt":function(module,exports){!function($){"use strict";if("object"==typeof ori&&"object"==typeof ori.messenger){var self=ori.messenger;ori.messenger=$.extend(!0,ori.messenger,{options:{defaultIframeId:"contentIframe",defaultIframeTheme:"",defaultOverlayElement:"body",paramFrameId:"frameid",paramFrameTheme:"theme",noresize:".colorbox-noresize",onResizeFinished:void 0,timeout:2e4,animation:!1,animationSpeed:500,iframeHorizontalScrollBarOffset:0,iframeHorizontalScrollBar:".nicescroll-rails.nicescroll-rails-hr",iframeParentContainer:".w-iframe"},actionsMap:{resize:"resizeIframe",scroll:"scrollTop",scrollToOffset:"scrollTopToOffset",scrollToIframeElement:"scrollToIframeElement",showTransparentLayer:"showTransparentLayer",hideTransparentLayer:"hideTransparentLayer",parentLogin:"openLoginDialogue",forgotPassword:"openForgotPasswordDialogue",forgotPasswordToggle:"toggleForgotPasswordDialogue",history:"history",iframeFloatHorizontalScrollBar:"iframeFloatHorizontalScrollBar",designLibraryNotes:"designLibraryNotesSwitcher",designLibraryBackgroundColor:"designLibraryBackgroundColor",setLocation:"setLocation",resizeWindowPopup:"resizeWindowPopup"},setLocation:function(msg){var href=self.getMessageParam(msg,"href");ori.redirect.setWindowLocation(href)},designLibraryNotesSwitcher:function(msg){var dl=ori.designLibraryIframe;dl?dl.switchNotes(self.getMessageParam(msg,"note")):self.error("Iframe design library functionality not found. Can't switch code comments.")},designLibraryBackgroundColor:function(msg){var color="#"+self.getMessageParam(msg,"color");$("body").css("background-color",color),$(".w-content").css("background-color",color)},toggleForgotPasswordDialogue:function(msg){var toggle,forgotIframeId;toggle=self.getMessageParam(msg,"toggle"),forgotIframeId="#initForgotPasswordIfrm","forgot"==toggle?$("#login-iframe").fadeOut(300,(function(){var srcTmp=$(forgotIframeId).data("iframesrc");$(forgotIframeId).attr("src",srcTmp).removeClass("invisible"),$(forgotIframeId).on("load",(function(){$(this).fadeIn(300)})),$(".forgot-password-close").removeClass("invisible").fadeIn(300)})):"login"==toggle&&($(".forgot-password-close").fadeOut(300),$(forgotIframeId).fadeOut(300,(function(){$("#login-iframe").fadeIn(300)})))},loadIframe:function(iframeId,settings){var $iframe=$("#"+iframeId);$iframe.prop("src",$iframe.data("iframe-src")),settings&&self.addIframeSettings(iframeId,settings)},addIframeSettings:function(iframeId,settings){iframeId&&settings?(self.iframes||(self.iframes={}),self.iframes[iframeId]=settings,self.info("Settings for iframe with ID '%s' were added successfully.",iframeId),settings.overlay&&(self.showTransparentLayer("?frameid="+iframeId),$("#"+iframeId).on("load",(function(){settings.timeout=setTimeout((function(){self.errorIframeLoadCallback($("#"+iframeId),settings)}),self.options.timeout)})))):self.error("Iframe ID or settings not specified, can't add to configuration.")},errorIframeLoadCallback:function($iframe,settings){$iframe=$($iframe);var spin=ori.spinner,iframeId=$iframe.attr("id"),overlayLoadError=settings.overlayLoadError;self.warning("Overlay for iframe with ID '%s' is going to be removed by load event timeout.",iframeId),spin.removeOverlayFrom($iframe),$iframe.replaceWith($("<div></div>").attr("id",iframeId).html(overlayLoadError))},removeIframeSettings:function(iframeId){iframeId?self.iframes&&self.iframes[iframeId]?delete self.iframes[iframeId]:self.error("Iframe settings for ID '%s' not found, can't remove it.",iframeId):self.error("Iframe ID not specified, can't remove settings.")},dispatchResizedEvent:function(w,h,frameId,success){var callback=self.options.onResizeFinished,event=$.Event("iframeResized");"function"==typeof callback&&(self.info("Executing onResizeFinished callback ..."),callback(w,h,frameId,success)),event.width=w,event.height=h,event.frameId=frameId,event.success=success,self.info("Triggering iframe resize event : #%s - %s x %s, success : %s ...",frameId,w,h,success),self.trigger(event)},getIframeId:function(msg){return self.getMessageParam(msg,self.options.paramFrameId)||self.options.defaultIframeId},history:function(msg){var goLink,history=self.getMessageParam(msg,"history");if(history)switch(history){case"menu":(goLink=$(".w-consultants-top-menu .top-menu-common-link-item .active").data("history"))?ori.redirect.setWindowLocation(goLink):self.warning("Active menu item link not found. Please check Consultant top bar links.");break;case"home":(goLink=$(".w-consultants-top-menu .top-menu-common-link-item:first a").data("history"))?ori.redirect.setWindowLocation(goLink):self.warning("Home menu item link not found. Please check Consultant top bar links.");break;case"back":window.history.go(-1);break;case"forward":window.history.go(1);break;default:$.isNumeric(history)&&window.history.go(history)}else self.warning("No history parameter found. Action cancelled.")},resizeIframe:function(msg){var w=parseInt(self.getMessageParam(msg,"width")),h=parseInt(self.getMessageParam(msg,"height")),docw=parseInt(self.getMessageParam(msg,"docwidth")),doch=parseInt(self.getMessageParam(msg,"docheight")),frameId=self.getIframeId(msg);(isNaN(docw)||null==docw)&&(docw=w,self.info("docwidth param empty, reset to %s from width parameter.",w)),(isNaN(doch)||null==doch)&&(doch=h,self.info("docheight param empty, reset to %s from height parameter.",h));var $iframe=$("#"+frameId);self.setIframeSize(w,h,frameId,"no",docw,doch),$iframe.parent().is(self.options.iframeParentContainer)&&ori.virtualScrollBar&&"function"==typeof ori.virtualScrollBar.updateEshopHorizontalScrollBar&&ori.virtualScrollBar.updateEshopHorizontalScrollBar()},resizeWindowPopup:function(msg){self.info("resizing window popup"),$("#"+self.getIframeId(msg)+self.options.noresize).length>0||(self.resizeIframe(msg),$("#"+self.getMessageParam(msg,"popupId")).data("kendoWindow").setOptions({width:parseInt(self.getMessageParam(msg,"width"))+70,height:parseInt(self.getMessageParam(msg,"height"))+60}))},setIframeSize:function(w,h,frameId,sc,docw,doch){frameId=frameId||self.options.defaultIframeId;var $iframe=$("#"+frameId);if($iframe.attr("scrolling",sc),$iframe.length){"all"==w&&(w="100%");var horizontalScrollBarHeight,iframeMarginHeight,step,i,fixed="fixed",heightClass="",widthClass="",widthClasses=[],heightClasses=[],processed=!1,iframeSettings=self.iframes[frameId]||{};if(docw&&docw>w+1&&(w=docw,self.info("Iframe #%s set to document view mode, fixed width : %s.",frameId,iframeSettings.fixedWidth),$iframe.parent().is(self.options.iframeParentContainer)&&ori.virtualScrollBar.addEshopHorizontalScrollBar()),$(self.options.iframeParentContainer).length>0&&(horizontalScrollBarHeight=$(self.options.iframeHorizontalScrollBar).innerHeight(),iframeMarginHeight=void 0!==$iframe.css("margin-top")?$iframe.css("margin-top").replace(/[^-\d.]/g,""):"0",$iframe.closest($(self.options.iframeParentContainer)).css({height:h+Math.round(iframeMarginHeight)+horizontalScrollBarHeight+self.options.iframeHorizontalScrollBarOffset})),iframeSettings.fixedWidth)w=fixed;else if(iframeSettings.widthSteps)for(i=0;i<iframeSettings.widthSteps.length;i++)(step=iframeSettings.widthSteps[i]).cssClass&&widthClasses.push(step.cssClass),processed||isNaN(w)&&"100%"!=w||!(step.width>=w||"100%"==step.width)||(w=step.width,widthClass=step.cssClass,processed=!0);if(w||(w=fixed,self.warning("Zero width given, no width resize will happen.")),iframeSettings.fixedHeight)h=fixed;else if(iframeSettings.heightSteps&&!isNaN(h))for(processed=!1,i=0;i<iframeSettings.heightSteps.length;i++)(step=iframeSettings.heightSteps[i]).cssClass&&heightClasses.push(step.cssClass),!processed&&!isNaN(h)&&step.height>=h&&(h=step.height,heightClass=step.cssClass,processed=!0);if(h||(h=fixed,self.warning("Zero height given, no height resize will happen.")),w==fixed&&h==fixed)return self.warning("Both width and height are fixed, no resize for iframe #%s.",frameId),void self.dispatchResizedEvent(w,h,frameId,!1);if(self.info("Resizing iframe #%s to %s x %s ...",frameId,w,h),w!=fixed&&($iframe.css({width:""}).removeClass(widthClasses.join(" ")),widthClass?(self.info("Adding CSS class %s to iframe #%s ...",widthClass,frameId),$iframe.addClass(widthClass)):(w.toString().indexOf("%")<0&&(w+="px"),self.info("Adding inline width %s to iframe #%s ...",w,frameId),self.options.animation?$iframe.animate({width:w},{duration:self.options.animationSpeed}):$iframe.css({width:w}))),h!=fixed&&($iframe.css({height:""}).removeClass(heightClasses.join(" ")),heightClass?(self.info("Adding CSS class %s to iframe #%s ...",heightClass,frameId),$iframe.addClass(heightClass)):(h.toString().indexOf("%")<0&&(h+="px"),self.info("Adding inline height %s to iframe #%s ...",h,frameId),self.options.animation?$iframe.animate({height:h},{duration:self.options.animationSpeed}):$iframe.css({height:h}))),$iframe.parent().is(self.options.iframeParentContainer)){var parentWidth=$iframe.parent().width();$iframe.css({width:parentWidth}),ori.virtualScrollBar&&"function"==typeof ori.virtualScrollBar.updateEshopHorizontalScrollBar&&ori.virtualScrollBar.updateEshopHorizontalScrollBar()}self.dispatchResizedEvent(w,h,frameId,!0)}else self.warning("Iframe #%s not found. Nothing to resize.",frameId)},scrollTop:function(){self.info("Scrolling window to top ..."),window.scrollTo(0,0)},scrollTopToOffset:function(msg){var offset=parseInt(self.getMessageParam(msg,"offset")),frameId=self.getIframeId(msg),$iframe=$("#"+frameId);if(isNaN(offset))self.warning("Can't scroll to vertical position, given offset is not a number : %s.",offset);else if($iframe.length){var offsetTop=parseInt($iframe.offset().top);self.info("Scrolling iframe #%s window to vertical position %s ...",frameId,offset),window.scrollTo(0,offsetTop+offset)}else self.warning("Iframe #%s not found. Can't scroll it.",frameId)},scrollToIframeElement:function(msg){var frameId=self.getIframeId(msg),$iframe=$("#"+frameId);if($iframe.length)if($iframe.is(":visible")){var elementRect=kendo.boundingRect($iframe);if(elementRect)if(self.info("Iframe bounding rectangle : %o",elementRect),kendo.isElementInViewport($iframe))self.info("Found iframe is already fully visible in page, no scrolling needed.");else{var duration=parseInt(self.getMessageParam(msg,"duration"),10),scrollProps=kendo.scrollProps(document),newScroll=null;isNaN(duration)&&(duration=700),["x","y"].forEach((function(axis){var suffix1="x"===axis?"Width":"Height",suffix2="x"===axis?"Left":"Top",max=window["inner"+suffix1]||document.documentElement["client"+suffix1];scrollProps[axis].elementPosition=parseInt(self.getMessageParam(msg,axis),10)||0,elementRect[axis].min+=scrollProps[axis].elementPosition,elementRect[axis].max=elementRect[axis].min+parseInt(self.getMessageParam(msg,"s"+axis),10)||0,elementRect[axis].min>=0&&elementRect[axis].max<=max||(scrollProps[axis].canScroll?(scrollProps[axis].delta=parseInt(self.getMessageParam(msg,"d"+axis),10)||0,newScroll||(newScroll={}),newScroll["scroll"+suffix2]=scrollProps[axis].scroll+elementRect[axis].min-scrollProps[axis].delta,self.info("Scroll settings for axis %s : %o",axis,scrollProps[axis])):self.warning("Can't scroll in axis %s.",axis))})),newScroll&&(self.info("Trying to scroll element into viewport, new scroll settings : %o ...",newScroll),$("html,body").stop().animate(newScroll,duration))}else self.warning("Couldn't get iframe bounding box, can't scroll to it.")}else self.warning("Found iframe is not visible, can't scroll to it.")},showTransparentLayer:function(msg){var frameId=self.getIframeId(msg),$iframe=$("#"+frameId),spinnerOptions={};"light"===(self.getMessageParam(msg,self.options.paramFrameTheme)||self.options.defaultIframeTheme)&&(spinnerOptions.display="none"),spinnerOptions.position="fixed",$iframe.length?(ori.spinner.applyOverlayTo(self.options.defaultOverlayElement,{overlay:{zIndex:1},spinner:spinnerOptions,iframe:$iframe}),ori.messenger.info("Full width transparent layer applied.")):self.warning("Iframe #%s not found. No transparent layer applied.",frameId)},hideTransparentLayer:function(msg){var frameId=self.getIframeId(msg),$iframe=$("#"+frameId);$iframe.length?(ori.spinner.removeOverlayFrom(self.options.defaultOverlayElement),$iframe.css("z-index","0"),ori.messenger.info("Transparent layer removed.")):self.warning("Iframe #%s not found. No transparent layer removed.",frameId)},openLoginDialogue:function(){var loginModule;try{loginModule=ori.popup.popupLogin||ori.burgerMenu}catch(error){}loginModule?loginModule.openLoginDialogue():self.error("Can't show forgot password dialogue, login module or burger menu not found.")},openForgotPasswordDialogue:function(){var loginModule;try{loginModule=ori.popup.popupLogin||ori.burgerMenu}catch(error){}loginModule?loginModule.openForgotPasswordDialogue():self.error("Can't show forgot password dialogue, login module or burger menu not found.")}}),ori.messenger.on("iframeResized",(function(event){var frameId=event.frameId,settings=self.iframes[frameId];ori.messenger.info("iframeResized() %o",event),settings?($("#"+frameId).off("load"),clearTimeout(settings.timeout)):self.warning("Iframe settings for ID '%s' not found, can't remove iframe load timeout.",frameId),ori.spinner.removeOverlayFrom("#"+frameId)})),ori.messenger.info("Common iframe methods successfully appended."),$(window).on("orientationchange"+self.ns,(function(){$("#"+self.options.defaultIframeId).length&&ori.messenger.transceiver(self.options.defaultIframeId,"orientationChange")})),self.disconnectOwnEventsOnWindowUnload(),ori.device&&ori.device.bindResize((function(){var w,iframeId,$parent;$(self.options.iframeParentContainer).each((function(index,item){iframeId="#"+$(item).find("iframe").attr("id"),$parent=$(iframeId).parent(self.options.iframeParentContainer),(w=$parent.width())||(w="100%"),$(iframeId).css({width:w}),ori.virtualScrollBar&&"function"==typeof ori.virtualScrollBar.updateEshopHorizontalScrollBar&&ori.virtualScrollBar.updateEshopHorizontalScrollBar()}))}))}}(jQuery)},"6agd":function(module,exports){!function(window,$){"use strict";var self;function closeCookieTooltip(){$(self.sel.policyTooltip).hide()}function openCookieTooltip(){$(self.sel.policyTooltip).show()}ori.addModule("cookiePolicy",{sel:{policyTooltip:".js-cookie-policy"},isLocalStorage:!1,setStatus:function(key,val){this.isLocalStorage?window.localStorage.setItem(key,val):$.cookie(key,val,{expires:365,path:"/"})},getStatus:function(key){return this.isLocalStorage?localStorage.getItem(key):$.cookie(key)},handleTooltipHeight:function(){var $tooltip=$(self.sel.policyTooltip),$content=$tooltip.find(".content");if(ori.device&&0===ori.device.activeBreakpoint.index&&1!==ori.device.activeBreakpoint.index){var windowHeight=$(window).outerHeight(),tooltipHeight=$content.attr("style","")&&$tooltip.outerHeight(),heightDifference=windowHeight-($(".page-header").outerHeight()+20+5)-tooltipHeight;heightDifference<0&&$content.css("max-height",$content.outerHeight()+heightDifference+"px")}else $content.removeAttr("style")},init:function(){var $tooltip=$(self.sel.policyTooltip),isStatusSet=self.getStatus("CheckDone");$tooltip.on("click",(function(e){$(e.target).is(":button")&&($tooltip.hide(),self.setStatus("CheckDone","1"))})),isStatusSet||$tooltip.fadeIn(),self.handleTooltipHeight(),ori.device&&(ori.device.bindResize(self.handleTooltipHeight,self.ns),ori.device.bindMedia(self.handleTooltipHeight,self.ns),ori.device.bindOrientationChange(self.handleTooltipHeight,self.ns),function handleTooltipOnPrinting(){$(self.sel.policyTooltip).is(":visible")&&(window.onbeforeprint=closeCookieTooltip,window.onafterprint=openCookieTooltip)}())}}),self=ori.cookiePolicy}(window,jQuery)},"8lDb":function(module,exports){!function(window,$){"use strict";var self,keyboard_ENTER=13;function handleKeyUp(e){(e.keyCode||e.which)==keyboard_ENTER&&function expandCollapseAccordion(e){var $trigger=$(e.target),$accordionBox=$trigger.parent().find("."+self.sel.expandableClass);self.toggle($trigger,$accordionBox)}(e)}function hiddenAccesible($accordionBox){$accordionBox.find("a").each((function(){$(this).attr("tabindex","-1")}))}ori.addModule("accordion",{sel:{accordion:".js-accordion",toggleClass:"toggle",disabledClass:"disabled",expandableClass:"expandable",expandedClass:"expanded",animatedClass:"animated",btnCollapseClass:"button-collapse"},expandSpeed:400,collapseSpeed:300,navByKeyboard:!0,callbackOnToggleStart:null,expand:function($toggle,$expandable){self.singleActive&&self.collapseSiblings($toggle),$toggle.addClass(self.sel.expandedClass),$expandable.addClass(self.sel.animatedClass).slideDown(self.expandSpeed,(function(){$expandable.removeClass(self.sel.animatedClass).addClass(self.sel.expandedClass)}))},collapse:function($toggle,$expandable){$toggle.removeClass(self.sel.expandedClass),$expandable.addClass(self.sel.animatedClass).slideUp(self.collapseSpeed,(function(){$expandable.removeClass(self.sel.animatedClass).removeClass(self.sel.expandedClass),$expandable[0]&&($expandable[0].style.display="")}))},collapseSiblings:function($toggle){$toggle.parent().siblings().each((function(){$("> ."+self.sel.toggleClass+"."+self.sel.expandedClass,this).length>0&&(self.collapse($("> ."+self.sel.toggleClass,this),$("> ."+self.sel.expandableClass,this)),$("> ."+self.sel.toggleClass,this).find('span[role="button"]').attr("aria-expanded","false"),self.navByKeyboard&&hiddenAccesible($("> ."+self.sel.expandableClass,this)))}))},toggle:function($toggle,$expandable){var isExpanded=$toggle.hasClass(self.sel.expandedClass);if("function"==typeof self.callbackOnToggleStart&&!1===self.callbackOnToggleStart($toggle,$expandable,!isExpanded))return;var $toggleBtn=$toggle.find('span[role="button"]');isExpanded?(self.collapse($toggle,$expandable),self.navByKeyboard&&hiddenAccesible($expandable),$toggleBtn.attr("aria-expanded","false")):(self.expand($toggle,$expandable),self.navByKeyboard&&function visibleAccesible($accordionBox){$accordionBox.find('a[tabindex="-1"]').each((function(){$(this).removeAttr("tabindex")}))}($expandable),$toggleBtn.attr("aria-expanded","true"))},applyTo:function($element){($element=$($element)).on("click.accordion",(function(event){var $toggle,$expandable,$trigger=$(event.target),$selector=$(event.currentTarget),$parent=$trigger.closest("."+self.sel.toggleClass);$parent.length&&($trigger=$parent),$trigger.hasClass(self.sel.toggleClass)&&$trigger.parent().is($selector)&&(event.preventDefault(),event.stopPropagation(),$trigger.hasClass(self.sel.disabledClass)||($toggle=$selector.children("."+self.sel.toggleClass),!($expandable=$selector.children("."+self.sel.expandableClass)).length&&$toggle.is('[href^="#"]')&&($expandable=$($toggle.attr("href"))),self.toggle($toggle,$expandable),$trigger.trigger("change")))}))},unApplyTo:function(options){var $element=$((self=this).sel.accordion);options&&options.selector&&($element=$element.find(options.selector)),$element.unbind("click.accordion")},init:function(options){var $selector=$((self=this).sel.accordion);options&&(self.expandSpeed=options.expandSpeed||self.expandSpeed,self.collapseSpeed=options.collapseSpeed||self.collapseSpeed,self.singleActive=!!options.singleActive,self.navByKeyboard=options.navByKeyboard||self.navByKeyboard,self.callbackOnToggleStart=options.callbackOnToggleStart||self.callbackOnToggleStart,options.selector&&($selector=$selector.find(options.selector))),self.navByKeyboard&&function navigateByKeyboard($selector){$selector.find("."+self.sel.btnCollapseClass).on(self.eventString("keyup"),handleKeyUp)}($selector),self.applyTo($selector)}})}(window,jQuery)},A7a0:function(module,__webpack_exports__,__webpack_require__){"use strict";var _ori_events_basket_updated__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7x1c"),Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("GjUZ");!function($){if("object"==typeof ori){var self,ajaxRunning=!1,ajaxQueue=[];ori.addModule("basket",{ADD_TO_BASKET_FINISHED:"addToBasketFinished",sel:{basketPrice:".ui-basket-products .price-value.value",basketBp:".ui-basket-products .totals .total-bp",basketItems:".ui-order-process-section-header .basket-items-count",offerCodesPanel:".ui-basket-products .offer-codes",quickOrderProduct:".ui-quick-order-form .product-code",addToBasketButton:"#addToBasketButton",lastBasketItemsRow:".basket-products-table",voucherRows:"ul.row-data.voucher",voucherCode:"#VoucherCode",usedBeautyPoints:".ui-basket-products .totals .used-bp",quickOrderProductName:".name",quickOrderProductIDCode:".product-code-ID",quickOrderProductIDCodeBox:".product-code-ID-box",quickOrderProductIDTooltipIcon:".product-code-ID-error-tooltip",quickOrderProductRemoveIcon:"a.remove",quickOrderProductIDErrorMessage:".data-error-message",quickOrderProductCode:".code",quickOrderProductImg:".img",quickOrderProductMsg:".flags",quickOrderProductFlag:".flags span",quickOrderProductQuantity:"input.k-input.hidden",quickOrderProductReplacements:".replacements",quickOrderProductOutClass:"is-out-of-stock",outOfStockHiddenField:'input.out-of-stock[type="hidden"]',subscribeToStockInfo:".js-subscribe-to-stock-info",productCode:'input[name="productCode"]',productQuantity:"input[aria-valuenow]",oosCTA:".js-oos-cta"},options:{usedBeautyPointsText:"",url:{basketSummaryInfo:"/system/ajax/Basket/GetBasketData",replaceBasketProduct:"/system/ajax/Basket/ReplaceBasketProduct"},eCatalogue:!1,enableLog:!1},categories:{},addToBasketUrl:"/system/ajax/Basket/AddToBasket",addProductToBasketUrl:"/system/ajax/Basket/AddProductToBasket",addToBasketBatchUrl:"/system/ajax/Basket/AddToBasketBatch",updateBasketUrl:"/system/ajax/Basket/UpdateBasketItem",updateBasketProductUrl:"/system/ajax/Basket/UpdateBasketProduct",removeBasketItemUrl:"/system/ajax/Basket/RemoveBasketItem",removeBasketVoucherUrl:"/system/ajax/Basket/RemoveBasketVoucher",removeAllBasketItemsUrl:"/system/ajax/Basket/RemoveAllBasketItems",offerCodeCheckUrl:"",offerCodeValidateUrl:"",voucherActivateUrl:"/system/ajax/Basket/ActivateVoucher",rafActivateUrl:"/system/ajax/Basket/ActivateRaf",onStockCheckUrl:"/system/ajax/Product/CheckStockStatus",basketUrl:"/Shopping/Basket/",theCodeYouHaveEnteredIsInvalid:"",validationOfOfferCodeHasFailed:"",thisVoucherHasAlreadyBeenUsed:"",specialOfferCodeIsValidAndCanBeActivated:"",offerCodeParameters:{typingTimer:0,doneTypingInterval:1e3,usedCodes:"",codeIsValid:!1,addedCodeFormat:""},typingTimeoutId:0,isGettingNoStockDataForQuickOrder:!1,init:function(options){self.setOptions(options),$(".ui-basket-products .removeItem").click((function(e){e.preventDefault(),self.removeBasketItem($(this).data("itemLineNumber"))})),$(".ui-basket-products .removeVoucherItem").click((function(){self.removeBasketVoucher($(this).data("itemId"))})),$(".empty-basket-dialog .confirm").click((function(){self.removeAllBasketItems()})),$("#buttonActivate").click((function(){return self.activateOfferCode(),!1})),$(self.sel.voucherCode).keyup((function(){self.validateOfferCode(this.value)})).focusout((function(){self.validateOfferCode(this.value)})),$(".js-proceed-to-checkout").click((function(){ori.messenger.iframeDisplay.SendOrderMessageAndCheckStatus()})),self.on("basketChanged",(function(event){self.refreshTotals(event.totalPriceFormated,event.totalBpFormated,event.basketItemsCount),self.refreshUsedBeautyPoints(event.usedBeautyPoints)})),1==self.loopEmptyCheck()&&$(self.sel.addToBasketButton).prop("disabled",!0),self.itemsTrigger.attach(),ori.basket.longPriceEllipsis(),ori.oriTooltip&&(ori.oriTooltip.addTooltip("js-flag-tooltip",{width:220,offset:15,position:"bottom"}),ori.oriTooltip.addTooltip("js-price-tooltip",{offset:15,position:"bottom"})),function bindBasketUpdatedEvent(){window.addEventListener(_ori_events_basket_updated__WEBPACK_IMPORTED_MODULE_0__.b,self.handleBasketUpdated)}()},addToBasket:function(productCode,quantity,cartAddType,productName){quantity=self.getCorrectQuantityValue(quantity);var requestData={productCode:productCode,quantity:quantity};self.info("Calling add-to-basket request, productCode : %s, quantity : %s ...",productCode,quantity),$.ajax({url:self.addToBasketUrl,data:requestData,cache:!1,success:function(data){(data=self.updateJsonResult(data))?data.errorMessage?self.error("Add to basket failed due to business reason error message : "+data.errorMessage):(data=$.extend(requestData,data),self.info("addToBasket() success. data : %o.",data),cartAddType&&self.GtmCartAdd(cartAddType,productName,productCode,quantity),$(".ui-basket-products:first, .basket-products").length>0&&(Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.b)(),ori.redirect.setWindowLocation(self.basketUrl)),self.triggerAddToBasketFinished(data),Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.a)()):self.error("Add to basket operation succeeded, but returned no basket summary data.")},error:function(jqXHR,textStatus,errorThrown){self.error("addToBasket() error : %s; %s",textStatus,errorThrown)}})},addProductToBasket:function(productCode,quantity,isSample){var requestData={productCode:productCode,quantity:quantity=self.getCorrectQuantityValue(quantity)};return self.info("Calling add-product-to-basket request, productCode : %s, quantity : %s ...",productCode,quantity),$.ajax({url:self.addProductToBasketUrl,data:requestData,cache:!1,success:function(data){if(data=self.updateJsonResult(data)){if(!data.errorMessage)return isSample||(isSample=!1),data=$.extend(requestData,data,{isSample:isSample}),self.info("addProductToBasket() success. data : %o.",data),self.triggerAddToBasketFinished(data),Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.a)(),data;self.error("Add product to basket failed due to business reason error message : "+data.errorMessage)}else self.error("Add product to basket operation succeeded, but returned no basket summary data.")},error:function(jqXHR,textStatus,errorThrown){self.error("addProductToBasket() error : %s; %s",textStatus,errorThrown)}})},scheduleAjaxQueueItem:function(lineNumber,quantity){var index=function ajaxQueueItemIndex(lineNumber){if(!ajaxQueue.length)return-1;for(var i=0,l=ajaxQueue.length;i<l;i++)if(ajaxQueue[i].lineNumber==lineNumber)return i;return-1}(lineNumber),newItem={lineNumber:lineNumber,quantity:quantity};index>-1&&ajaxQueue.splice(index,1),ajaxQueue.push(newItem),self.info("Scheduled basket item update, lineNumber = %s, quantity = %s.",lineNumber,quantity)},checkNextAjaxQueueItem:function(){if(ajaxQueue.length){var item=ajaxQueue.shift();self.info("Processing next AJAX queue item, items left : %s ...",ajaxQueue.length),item.quantity?self.updateBasketItem(item.lineNumber,item.quantity):self.removeBasketItem(item.lineNumber)}else self.info("No items left in AJAX queue, basket update finished.")},updateBasketItem:function(lineNumber,newQuantity){newQuantity=self.getCorrectQuantityValue(newQuantity),ajaxRunning?self.scheduleAjaxQueueItem(lineNumber,newQuantity):(self.info("updateBasketItem() : lineNumber = %s, quantity = %s",lineNumber,newQuantity),ajaxRunning=!0,$.ajax({url:self.updateBasketUrl,data:{lineNumber:lineNumber,quantity:newQuantity},cache:!1,success:function(data){if(data=self.updateJsonResult(data)){self.info("udpateBasketItem() success. data : %o.",data);var bi=data.basketItems;if(bi)for(var key in bi)bi.hasOwnProperty(key)&&bi[key].lineNumber==lineNumber&&($(".ui-basket-products .total-price-"+lineNumber).html(bi[key].totalItemPriceFormatted),$(".ui-basket-products .bp-"+lineNumber).html(bi[key].bpFormated));updateTotalPriceTriggerChange(data),Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.a)()}else self.error("udpateBasketItemCount() : no data received.")},error:function(jqXHR,textStatus,errorThrown){self.error("updateBasketItem() error : %s; %s",textStatus,errorThrown)},complete:function(){ajaxRunning=!1,self.checkNextAjaxQueueItem()}}))},updateBasketProduct:function(productCode,newQuantity){self.info("updateBasketProduct() : productCode = %s, quantity = %s",productCode,newQuantity);var requestData={productCode:productCode,quantity:newQuantity};return $.ajax({url:self.updateBasketProductUrl,data:requestData,cache:!1,success:function(data){if(data=self.updateJsonResult(data)){if(!data.errorMessage)return data=$.extend(requestData,data),self.info("updateBasketProduct success. data : %o.",data),self.triggerBasketChanged(data),Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.a)(),data;self.error("updateBasketProduct failed due to business reason error message : "+data.errorMessage)}else self.error("updateBasketProduct operation succeeded, but returned no basket summary data.")},error:function(jqXHR,textStatus,errorThrown){self.error("updateBasketProduct() error : %s; %s",textStatus,errorThrown)}})},removeBasketItem:function(lineNumber){var $removedRow=$(".row-data.row-"+lineNumber),itemData=$removedRow.find(".removeItem").data(),productCode=itemData.code,kendoInput=$removedRow.find(self.sel.productQuantity).data("kendoNumericTextBox"),quantity=kendoInput?kendoInput.value():itemData.quantity,isOos=itemData.oos;ajaxRunning?self.scheduleAjaxQueueItem(lineNumber,0):(self.info("removeBasketItem() : lineNumber = %s",lineNumber),$removedRow.length&&$removedRow.slideUp((function(){$(this).remove()})),ajaxRunning=!0,$.ajax({url:self.removeBasketItemUrl,data:{lineNumber:lineNumber},cache:!1,success:function(data){data?(updateTotalPriceTriggerChange(data=self.updateJsonResult(data)),function clientServerConsistency(data,lineNumber){var $basketBubble,lineNumbersClient=[],lineNumbersServer=[],productIDClient=[],productIDServer=[],$stickyBar=ori.basketTooltip?$(".js-sticky-bar"):$(".js-sticky-bar .basket");data.basketItems.forEach((function(item){item.lineNumber!=lineNumber&&(lineNumbersServer.push(item.lineNumber),productIDServer.push(item.productCode))})),$stickyBar.length&&($basketBubble=ori.basketTooltip?$(".js-basket-tooltip-content"):$stickyBar.data("kendoTooltip").options.content,$.each($basketBubble.find(".product-list").children(),(function(){productIDClient.push(this.id.split("product-").pop())})),$(productIDClient).not(productIDServer).get().forEach((function(id){$basketBubble.find("#product-"+id).remove()})),ori.stickyBar&&ori.stickyBar.updateBasketBubbleQuantity(data));$.each($(".row-data").children(".action").find(".removeItem"),(function(){var currentLineNum=$(this).data("itemLineNumber");currentLineNum!=lineNumber&&lineNumbersClient.push(currentLineNum)})),$(lineNumbersClient).not(lineNumbersServer).get().forEach((function(lineNum){$(".row-data.row-"+lineNum).slideUp((function(){$(this).remove()}))}))}(data,lineNumber),self.options.enableLog&&isOos&&productCode&&quantity&&function gtmOosProdRemoved(prodSku,quantity){"undefined"!=typeof dataLayer&&(self.log("gtmOosProdRemoved: prodSku="+prodSku+", quantity="+quantity),dataLayer.push({prodSku:prodSku,quantity:quantity,event:"oosProdRemoved"}))}(productCode,quantity),Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.a)()):self.error("removeBasketItem() : no data received.")},error:function(jqXHR,textStatus,errorThrown){self.error("removeBasketItem() error : %s; %s",textStatus,errorThrown)},complete:function(){ajaxRunning=!1,self.checkNextAjaxQueueItem()}}))},removeBasketVoucher:function(voucherCode){self.info("removeBasketVoucher() code = "+voucherCode),$.ajax({url:self.removeBasketVoucherUrl,data:{code:voucherCode},cache:!1,success:function(data){self.info("removeBasketVoucher() success."),$(".ui-basket-products .row-"+voucherCode).remove(),Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.a)()},error:function(jqXHR,textStatus,errorThrown){self.error("removeBasketVoucher() error : %s; %s",textStatus,errorThrown)}})},removeAllBasketItems:function(){self.info("removeAllBasketItems()"),Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.b)(),self.options.eCatalogue?ori.redirect.setWindowLocation(self.removeAllECatalogueBasketItemsUrl):ori.redirect.setWindowLocation(self.removeAllBasketItemsUrl)},onReplace:function(event){event.stopImmediatePropagation(),event.preventDefault();var productCode,$this=$(this),$replacementInputCode=$(event.target).find(self.sel.productCode),lineNumber=$this.attr("class").match(/row-(\d+)/)[1],quantity=$this.find(self.sel.productQuantity).data("kendoNumericTextBox").value()||1;$replacementInputCode.length>1&&($replacementInputCode=$replacementInputCode.filter(":checked")),productCode=parseInt($replacementInputCode.val(),10),lineNumber&&productCode?$.ajax({url:self.options.url.replaceBasketProduct,data:{lineNumber:lineNumber,quantity:quantity,productCode:productCode},success:function(response){response.redirect?(Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.b)(),ori.redirect.setWindowLocation(self.basketUrl)):Object(Shopping_Scripts_utils__WEBPACK_IMPORTED_MODULE_1__.a)()},error:function(textStatus,errorThrown){self.error("onReplace: error: "+textStatus+"; "+errorThrown)}}):self.error("The product to be replaced was not found or the replacement product does not exist.")},triggerBasketChanged:function(data){var event=$.Event("basketChanged",data);event.totalPriceFormated?self.trigger(event):self.warning("Couldn't trigger BASKET_CHANGED event, incomplete data.")},handleBasketUpdated:function(){window.location.reload()},triggerAddToBasketFinished:function(data){var event=$.Event(self.ADD_TO_BASKET_FINISHED,data);event.productCode?(self.trigger(event),data.totalPriceFormated?self.triggerBasketChanged(data):self.getBasketSummaryInfo()):self.warning("Couldn't trigger ADD_TO_BASKET_FINISHED event, incomplete data.")},getBasketSummaryInfo:function(){var url=self.options.url.basketSummaryInfo;self.info("Retrieving basket summary data from '%s' ...",url),$.ajax({url:url,cache:!1,success:function(data){(data=self.updateJsonResult(data))?data.errorMessage?self.warning("Get basket info failed due to business reason. Error message : "+data.errorMessage):(self.info("Successfully read basket data."),self.triggerBasketChanged(data)):self.warning("Get basket info response loaded, but returned no basket summary data.")},error:function(jqXHR,textStatus,errorThrown){self.error("refreshBasketTotals() error : %s; %s",textStatus,errorThrown)}})},refreshTotals:function(totalPrice,totalBp,count){$(self.sel.basketPrice).html(totalPrice),$(self.sel.basketBp).html(totalBp),$(self.sel.basketItems).html(count)},refreshUsedBeautyPoints:function(points){$(self.sel.usedBeautyPoints).text(self.options.usedBeautyPointsText.formatWith({UsedBeautyPoints:points}))},initOfferCode:function(){self.offerCodeCheck()},activateOfferCode:function(){self.offerCodeParameters.codeIsValid=!1;var offerCode=$(self.sel.voucherCode).val();$.ajax({url:self.offerCodeCheckUrl,dataType:"jsonp",data:{offerCode:offerCode,command:"validate"},success:function(data){if(data&&"Y"==data.result)if(-1!=ori.basket.offerCodeParameters.usedCodes.indexOf(offerCode))self.typingTimeoutId&&clearTimeout(self.typingTimeoutId),self.showVoucherCodeValidation(!1,self.thisVoucherHasAlreadyBeenUsed);else{var tmpData={offerCode:offerCode};$.extend(data,tmpData),self.offerCodeParameters.codeIsValid=!0,self.activateVoucherSuccess(data)}else self.typingTimeoutId&&clearTimeout(self.typingTimeoutId),self.showVoucherCodeValidation(!1,self.theCodeYouHaveEnteredIsInvalid)},error:function(jqXHR,textStatus,errorThrown){self.error("Validation of offer code - error: "+errorThrown)}})},validateOfferCode:function(offerCode){var values="command=validate&offerCode="+offerCode;self.typingTimeoutId&&clearTimeout(self.typingTimeoutId),self.typingTimeoutId=setTimeout((function(){$.ajax({url:self.offerCodeValidateUrl+"?"+values,dataType:"jsonp",success:function(data){"Y"==data.result?self.GtmRegisterPromoCode(offerCode,"success"):self.GtmRegisterPromoCode(offerCode,"failed")},error:function(jqXHR,textStatus,errorThrown){self.GtmRegisterPromoCode(offerCode,"failed"),self.showVoucherCodeValidation(!1,self.validationOfOfferCodeHasFailed)}})}),self.offerCodeParameters.doneTypingInterval)},activateVoucherSuccess:function(voucher){$.ajax({url:self.voucherActivateUrl,type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({voucherModel:voucher}),success:function(data){data&&($(self.sel.voucherRows).remove(),$(self.sel.lastBasketItemsRow).append(data),$(".ui-basket-products .removeVoucherItem").click((function(){self.removeBasketVoucher($(this).data("itemId"))}))),ori.basket.offerCodeParameters.usedCodes+=","+voucher.offerCode;var $voucher=$(self.sel.voucherCode),$parent=$voucher.parent(),$icon=$parent.find(".k-icon");self.typingTimeoutId&&clearTimeout(self.typingTimeoutId),$voucher.val(""),$icon.length&&$icon.remove(),$parent.removeClass("error success")},error:function(jqXHR,textStatus,errorThrown){self.error("Validation of offer code - error: "+errorThrown)}})},offerCodeCheck:function(){$.ajax({url:self.offerCodeValidateUrl,dataType:"jsonp",data:{command:"check"},async:!0,success:function(data){data&&"Y"==data?$(self.sel.offerCodesPanel).show():self.info("Checking valid game in oriflame_games table: no valid game defined")},error:function(jqXHR,textStatus,errorThrown){self.error("Checking valid game in oriflame_games table - error: "+errorThrown)}})},loopErrorCheck:function(row){row.closest("table").find("td.col-code .error-icon").each((function(){$(this,"span.error-icon").is(":visible")&&$(self.sel.addToBasketButton).prop("disabled",!0)}))},loopEmptyCheck:function(){for(var emptyCount=0,productContent=$("input.product-code-ID").map((function(){return $(this).val()})).get(),i=0;i<productContent.length;i++)""===productContent[i]&&emptyCount++;return productContent.length==emptyCount},isInAnyRowError:function(){var errors=$('table[id="productItemsTable"] *.error'),error=!1;if(errors.length)try{Array.prototype.forEach.call(errors,(function(node){if($(node).is(":visible"))throw error=!0,"error is"}))}catch(e){}return error},resetStockRow:function(row){var $row=$(row);$row.removeClass(self.sel.quickOrderProductOutClass).removeClass("has-data"),$row.find(self.sel.quickOrderProductName).text(""),$row.find(self.sel.quickOrderProductCode).text(""),$row.find(self.sel.quickOrderProductIDCodeBox).removeClass("error"),$row.find(self.sel.quickOrderProductFlag).removeClass(),$row.find(self.sel.quickOrderProductIDTooltipIcon).hide(),$row.find(self.sel.quickOrderProductImg).html(""),$row.find(self.sel.quickOrderProductReplacements).css("display",""),$row.find(self.sel.quickOrderProductMsg).css("display",""),$row.find(self.sel.subscribeToStockInfo).css("display",""),$row.find(self.sel.oosCTA).css("display","")},buttonAddRefresh:function(){var emptyCountStatus=self.loopEmptyCheck(),errors=self.isInAnyRowError();!0===emptyCountStatus||!0===errors?$(self.sel.addToBasketButton).prop("disabled",!0):$(self.sel.addToBasketButton).prop("disabled",!1)},onStockCheck:function(productCode,row){self.info("onStockCheck: productCode="+productCode),self.resetStockRow(row);var errorMessage=row.find(self.sel.quickOrderProductIDTooltipIcon).attr("data-error-message");0==row.find("input.product-code-ID").val().length&&row.removeClass("has-data");$("input.product-code-ID").map((function(){return $(this).val()})).get();if(""==productCode.trim())return self.loopErrorCheck(row),void self.buttonAddRefresh();kendo.applyTooltip(row.find(self.sel.quickOrderProductIDTooltipIcon),{content:errorMessage}),self.isGettingNoStockDataForQuickOrder=!0,$.ajax({url:self.onStockCheckUrl,data:{productCode:productCode},success:function(data){if(!data)return self.warning("no data returned"),self.loopErrorCheck(row),void(self.isGettingNoStockDataForQuickOrder=!1);self.info("onStockCheck: result = "+data.result);var knumeric=row.find(self.sel.quickOrderProductQuantity).data("kendoNumericTextBox");("ok"==data.result?(knumeric&&!knumeric.value()&&knumeric.value(1),row.addClass("has-data")):"failed"==data.result?(row.find(self.sel.quickOrderProductIDCodeBox).addClass("error"),row.find(self.sel.quickOrderProductIDTooltipIcon).show(),row.find(self.sel.quickOrderProductRemoveIcon).show(),self.warning("no data returned"),row.removeClass("has-data"),$(self.sel.addToBasketButton).prop("disabled",!0)):"notavailable"==data.result&&(row.addClass(self.sel.quickOrderProductOutClass),row.find(self.sel.quickOrderProductMsg).css("display","block"),knumeric&&!knumeric.value()&&knumeric.value(1),row.addClass("has-data"),data.showBackInStockSubscription&&row.find(self.sel.subscribeToStockInfo).css("display","inline-block").attr("data-code",data.product.code),data.hasBackorder&&row.find(self.sel.oosCTA).css("display","inline-block").attr("data-code",data.product.code)),data.replacements&&data.replacements.length>0)&&row.find(self.sel.quickOrderProductReplacements).css("display","inline-block").attr("data-code",data.product.code).attr("data-replacements",JSON.stringify(data.replacements));if(data.labelText&&(row.find(self.sel.quickOrderProductFlag).addClass(data.labelClass+" active").html(data.labelText),ori.oriTooltip&&(data.labelHelpText.length>0||data.nextAvailableDate.length>0))){var tooltipContent=data.labelHelpText?data.labelHelpText:"";data.nextAvailableDate&&(tooltipContent+=(data.labelHelpText?"<br/>":"")+data.nextAvailableDate),kendo.applyTooltip(row.find(self.sel.quickOrderProductFlag),{content:tooltipContent,width:220,offset:15,position:"bottom"})}data.product&&(row.find(self.sel.quickOrderProductName).text(data.product.name),row.find(self.sel.quickOrderProductCode).text(data.product.code+" "+data.product.color),row.find(self.sel.quickOrderProductImg).html(data.product.image?"<img src="+data.product.image+" />":'<span class="v-icon-oriflame-symbol icon-missing"></span>')),row.find(self.sel.outOfStockHiddenField).val(row.hasClass(self.sel.quickOrderProductOutClass)),self.loopErrorCheck(row),self.isGettingNoStockDataForQuickOrder=!1},error:function(textStatus,errorThrown){self.isGettingNoStockDataForQuickOrder=!1,self.error("onStockCheck: error: "+textStatus+"; "+errorThrown)}}),self.buttonAddRefresh()},showVoucherCodeValidation:function(success,message){var $parent=$(self.sel.voucherCode).parent(),$icon=$parent.find(".k-icon");$icon.length||($icon=$("<span class='k-icon' />")),$parent.removeClass("error success").addClass(success?"success":"error"),$icon.removeClass("error-icon success-icon").addClass(success?"success-icon":"error-icon"),$icon.appendTo($parent),kendo.applyTooltip($icon,{content:message})},GtmRegisterPromoCode:function(promoCode,promoCodeStatus){void 0!==ori.dataLayer&&(self.log("GtmRegisterPromoCode: promoCode="+promoCode+", promoCodeStatus="+promoCodeStatus),ori.dataLayer.push({promoCode:promoCode,promoCodeStatus:promoCodeStatus,event:"registerPromoCode"}))},GtmCartAdd:function(cartAddType,productName,productSku,quantity){void 0!==ori.dataLayer&&(self.log("GtmCartAdd: cartAddType="+cartAddType+", productName="+productName+", productSku="+productSku+", quantity="+quantity),ori.dataLayer.push({cartAddType:cartAddType,productName:productName,productSku:productSku,quantity:quantity,event:"cartAdd"}))},setReplacement:function(productCode){self.info("setReplacement: productCode="+productCode),$(self.sel.quickOrderProduct+"[data-is-current=true]").val(productCode)},checkVoucherCodeParam:function(){var voucherCode=self.parameterValue("raf_code");if(voucherCode){var values="command=validate&offerCode="+voucherCode;$.ajax({url:self.offerCodeValidateUrl+"?"+values,dataType:"jsonp",success:function(data){if("Y"==data.result&&(self.offerCodeParameters.codeIsValid=!1,-1==ori.basket.offerCodeParameters.usedCodes.indexOf(voucherCode))){self.offerCodeParameters.codeIsValid=!0;var tmpData={offerCode:voucherCode};$.extend(data,tmpData),$.ajax({url:self.rafActivateUrl,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({voucher:data}),success:function(data){ori.basket.offerCodeParameters.usedCodes+=","+voucherCode},error:function(jqXHR,textStatus,errorThrown){self.error("Validation of offer code - error: "+errorThrown)}})}},error:function(jqXHR,textStatus,errorThrown){self.error("Validation of offer code - error: "+errorThrown)}})}},getCorrectQuantityValue:function(quantity){return(isNaN(quantity)||quantity-0==0)&&(quantity=1),quantity},disableAddToBasketBtn:function(){$(this.sel.addToBasketButton).prop("disabled",!0)},itemsTrigger:{settings:{attrs:{INIT_MARK:"data-product-line-inited"},selectors:{WRAPPER:'tr[id*="row"]',NOT_INITED_PRODUCT_CODE:'tr[id="[id]"] input[class*="product-code"]:not([[INIT_MARK]])',NOT_INITED_REMOVE_BUTTON:'tr[id="[id]"] [class*="remove"]:not([[INIT_MARK]])',PRODUCT_CODE:'tr[id="[id]"] input[class*="product-code"]',PRODUCT_ITEMS_BY_NAME:'tr[id="[id]"] *[name*="productItems"]',PRODUCT_ITEMS_BY_ID:'tr[id="[id]"] *[id*="ProductItems"]'}},current:{id:null,value:null},attach:function(){var wrappers=$(self.itemsTrigger.settings.selectors.WRAPPER);wrappers.length>0&&(Array.prototype.forEach.call(wrappers,(function(wrapper){var id=wrapper.getAttribute("id"),product=$(self.itemsTrigger.settings.selectors.NOT_INITED_PRODUCT_CODE.replace("[id]",id).replace("[INIT_MARK]",self.itemsTrigger.settings.attrs.INIT_MARK)),remove=$(self.itemsTrigger.settings.selectors.NOT_INITED_REMOVE_BUTTON.replace("[id]",id).replace("[INIT_MARK]",self.itemsTrigger.settings.attrs.INIT_MARK));""!==id&&null!==id&&1===product.length&&1===remove.length&&(product=product[0],remove=remove[0],$(product).bind("keyup change",(function(){self.itemsTrigger.updateProduct(id,product)})),$(remove).bind("click",(function(event){return self.itemsTrigger.removeProduct(id,product),event.preventDefault(),event.stopPropagation(),!1})),product.setAttribute(self.itemsTrigger.settings.attrs.INIT_MARK,"done"),remove.setAttribute(self.itemsTrigger.settings.attrs.INIT_MARK,"done"))})),self.itemsTrigger.update())},updateProduct:function(id,input){self.itemsTrigger.current.id!==id?(self.itemsTrigger.current.id=id,self.itemsTrigger.current.value=input.value,self.itemsTrigger.update()):self.itemsTrigger.current.value===input.value&&""!==input.value||self.itemsTrigger.update()},removeProduct:function(id,input){var $currentRowInput=$("#"+id).find(self.sel.productQuantity);input.value="",$currentRowInput.length&&$currentRowInput.getKendoNumericTextBox().value(null),self.itemsTrigger.updateProduct(id,input)},update:function(){var items=$(self.itemsTrigger.settings.selectors.WRAPPER),previous_filled=!0,previous=null,removed=[];if(items.length>0){if(Array.prototype.forEach.call(items,(function(item,index){var id=item.getAttribute("id"),product=null;null!==id&&""!==id&&1===(product=$(self.itemsTrigger.settings.selectors.PRODUCT_CODE.replace("[id]",id))).length&&(""!==(product=product[0]).value.replace(/\s/gi,"")?(item.style.display="",!1===previous_filled&&null!==previous&&removed.push(previous),index===items.length-1&&(ori.quickOrder.addQuickOrderItem(),self.itemsTrigger.attach(),self.itemsTrigger.normalize()),previous_filled=!0):(!1===previous_filled?item.style.display="none":(item.style.display="",self.resetStockRow(item)),previous_filled=!1),previous=item)})),removed.length>0)try{Array.prototype.forEach.call(removed,(function(node){node.parentNode.removeChild(node)}))}catch(e){}finally{self.itemsTrigger.normalize()}self.buttonAddRefresh()}},normalize:function(){var items=$(self.itemsTrigger.settings.selectors.WRAPPER);items.length>0&&Array.prototype.forEach.call(items,(function(item,index){function updatePropery(nodes,attr,regs,index){Array.prototype.forEach.call(nodes,(function(node){var attr_value=node.getAttribute(attr);null!==attr_value&&""!==attr_value&&(attr_value=attr_value.replace(regs,index),node.setAttribute(attr,attr_value))}))}var id=item.getAttribute("id"),nodes=null;null!==id&&""!==id&&(updatePropery((nodes={names:$(self.itemsTrigger.settings.selectors.PRODUCT_ITEMS_BY_NAME.replace("[id]",id)),ids:$(self.itemsTrigger.settings.selectors.PRODUCT_ITEMS_BY_ID.replace("[id]",id))}).names,"name",/\[\d+\]/gi,"["+index+"]"),updatePropery(nodes.ids,"id",/_\d+_/gi,"_"+index+"_"))}))}},longPriceEllipsis:function(){var item,itemProductName,itemFlags,itemProductNameWidth,itemProductNameRight,itemTotalPriceLeft,overlap,newWidth;$.each($(".row-data"),(function(key,value){item=$(value),itemProductName=item.find(".js-product-name"),item.find(".total-price"),itemFlags=item.find(".flags"),itemProductNameWidth=parseInt(itemProductName.width()),itemProductNameRight=parseInt(itemProductName.offset().left)+itemProductNameWidth,itemTotalPriceLeft=parseInt(item.find(".total-price").position().left),(overlap=itemProductNameRight-itemTotalPriceLeft)>0&&(newWidth=itemProductNameWidth-overlap,itemFlags.is("span")?itemFlags.css({width:newWidth}):itemProductName.css({width:newWidth}))}))}}),self=ori.basket}function updateTotalPriceTriggerChange(data){data.totalPriceFormated&&$(".totals .js-total-price .value").html(data.totalPriceFormated),self.triggerBasketChanged(data)}}(jQuery)},Cinf:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("+DkX"),__webpack_require__("Mvqx"),__webpack_require__("J6ao"),__webpack_require__("wc7s"),__webpack_require__("A7a0"),__webpack_require__("SHaI"),__webpack_require__("6agd"),__webpack_require__("NxYJ"),__webpack_require__("n/VA"),__webpack_require__("RksP"),__webpack_require__("xnls"),__webpack_require__("6Zbt"),__webpack_require__("8lDb"),__webpack_require__("QL0K"),__webpack_require__("GSHT"),__webpack_require__("+86U"),__webpack_require__("aG/0")},GSHT:function(module,exports){!function(window,$){"use strict";var self=ori.addModule("lazyLoad",{LOADING_IMG_CLASS:"lazy-loading-image",LOADING_VIDEO_CLASS:"lazy-loading-video",LOADED_CLASS:"lazy-loaded",init:function(context){var $context=$(context);$context.length||($context=$("body"));var $imgs=$context.find("img."+self.LOADING_IMG_CLASS),$videos=$context.find("video."+self.LOADING_VIDEO_CLASS);$imgs.length>0&&$imgs.lazyLoadXT(),$videos.length>0&&$videos.lazyLoadXT()},forceShow:function($images){$images.lazyLoadXT({show:!0})}});function hasSpinner($element){return!$element.hasClass("no-spinner")}if(void 0!==$.lazyLoadXT){var extendedOptions={autoInit:!1,onshow:function(){var $lazyItem=$(this);$lazyItem.hasClass(self.LOADED_CLASS)||(hasSpinner($lazyItem)&&ori.spinner.applyTo($lazyItem.parent()),$lazyItem.hasClass(self.LOADING_VIDEO_CLASS)&&($lazyItem.removeClass(self.LOADING_VIDEO_CLASS).addClass(self.LOADED_CLASS),$lazyItem.on("loadeddata",(function(){ori.spinner.removeFrom($lazyItem.parent())})),$("source",$lazyItem).on(self.eventString("error"),(function handleLazyItemError(event){if("SOURCE"===event.target.nodeName){var currentSrc=event.target.src||"Empty SRC attribute was set";ori.spinner.removeFrom($lazyItem.parent()),$lazyItem.remove(),self.error('The video element contains broken or empty video source: "'+currentSrc+'". Fill in correct values in Sitecore for appropriate item')}}))))},onload:function(){var $img=$(this);$img.removeClass(self.LOADING_IMG_CLASS),$img.addClass(self.LOADED_CLASS),hasSpinner($img)&&ori.spinner.removeFrom($img.parent())},onerror:function(){var $lazyItem=$(this);hasSpinner($lazyItem)&&ori.spinner.removeFrom($lazyItem.parent())}},updateEvent=$.lazyLoadXT.updateEvent;void 0!==ori.tabs&&ori.tabs&&(updateEvent+=" "+ori.tabs.TAB_CHANGE_EVENT),updateEvent+=" rsslidechange",extendedOptions.updateEvent=updateEvent,$.extend($.lazyLoadXT,extendedOptions),$(document).on("rsslidechange",(function(event){var slidesToPreload=event.slidesToPreload;"object"==typeof slidesToPreload&&slidesToPreload.length&&$.each(slidesToPreload,(function(){var $slideImages=$(this.holder).find("img."+self.LOADING_IMG_CLASS);if(0===$slideImages.length)return!0;self.forceShow($slideImages)}))})).on("rsrebuild",(function(e){self.init($(e.target))})),$((function(){self.init()}))}else self.error("Lazy Load XT plugin not found.")}(window,jQuery)},J6ao:function(module,exports){!function(parent){"use strict";ori.addModule("redirectParent",{setParentLocation:function(href){for(var win=window.self;win!==win.parent;)win=win.parent;win.location.href=href}}),ori.redirectParent}(parent)},Mvqx:function(module,exports){!function(window){"use strict";function isOnSiteNavigation(href,currentLocation){currentLocation=void 0!==currentLocation?currentLocation:window.location;var newLocation=function getLocation(href){var l=document.createElement("a");return l.href=href,l}(href);return void 0===newLocation.host||""===newLocation.host||currentLocation.host===newLocation.host}ori.addModule("redirect",{setWindowLocation:function(href,onSiteNavigation){ori.onLeavingSite&&"function"==typeof ori.onLeavingSite.setNavigationValid&&ori.onLeavingSite.setNavigationValid(void 0!==onSiteNavigation?onSiteNavigation:isOnSiteNavigation(href)),window.location.href=href}}),ori.redirect}(window)},NxYJ:function(module,exports){!function(window,$){"use strict";var self;ori.addModule("cookieNotification",{sel:{},options:{},setStatus:function(key,val){$.cookie(key,val,{expires:365,path:"/"})},getStatus:function(key){return $.cookie(key)},init:function(options){self.setOptions(options);var key="CookieBanerDone",$cta=$(".w-notification-banner"),$top=$("#back-to-top-button"),$chat=$("#ui-inin-chat-open"),$cookieBanner=$(".ui-cookie-notification"),isStatusSet=self.getStatus(key),fixedBottomAreaContainer=document.getElementById("fixed-bottom-area");var bannerAnimationMovement_SHOW=1,bannerAnimationMovement_HIDE=2;function performOperationsDuringBannerMovement(bannerMovement){var intervalId=setInterval((function(){var endPosition=bannerMovement.SHOW?0:-200,bannerBottom=parseInt($cookieBanner.css("bottom")),newPosition=bannerBottom+parseFloat($cookieBanner.outerHeight()),bottomValue=Math.max(0,newPosition);!function setProductListPositionOnDigitalCatalogue(bottom){ori.digitalCatalogue&&ori.digitalCatalogue.setProductListPosition(bottom)}(bottomValue),function setCtaBannerPositionBottom(value){$cta.hasClass("active")&&$cta.css("bottom",value),$top.css("transform",`translateY(-${value}px)`),$chat.css("transform",`translateY(-${value}px)`)}(bottomValue),bannerBottom===endPosition&&clearInterval(intervalId)}),10)}"1"!==isStatusSet&&($cookieBanner.addClass("shown"),fixedBottomAreaContainer||performOperationsDuringBannerMovement(bannerAnimationMovement_SHOW),$cookieBanner.on(self.eventString(["click","touchstart"]),".accept",(function hideCookieBanner(){$cookieBanner.css({bottom:-200}),self.setStatus(key,"1"),$cookieBanner.removeClass("shown"),fixedBottomAreaContainer||performOperationsDuringBannerMovement(bannerAnimationMovement_HIDE)})))}}),self=ori.cookieNotification}(window,jQuery)},QL0K:function(module,exports){!function($){"use strict";var self,breakpoint=4;ori.addModule("miniSearch",{sel:{searchForm:".js-mini-search",$miniSearch:$('<div class="ui-mini-search"></div>'),$closeButton:$('<span class="close v-icon-cross"></span>'),suggestionsTemplate:"#kendo-template-suggestions",miniSearchTemplate:"#kendo-template-mini-search",quickShopTemplate:"#kendo-template-quick-shop",searchText:".search-text",$suggestions:$('<ul class="suggestions"></ul>'),searchPanel:".ui-search-panel",addToBasket:".add-to-basket",searchWrapperFixed:".w-search",searchWrapperRWD:".ui-rwd-minisearch",miniSearchHeader:".ui-mini-search .header",uiMiniSearchClass:".ui-mini-search",detailClass:".detail",headerHide:"header.hide",resultsCategory:".results-category",gsaMiniSearch:".ui-gsa-mini-search",wMiniSearch:".w-mini-search",miniSearch:".miniSearch",activeClassName:"active",activeClass:".active",closeClass:".close"},options:{namespace:"miniSearch",selectedClass:"selected",collapsedClass:"collapsed",suggestion:{tick:null,request:null,timeout:250},miniSearch:{tick:null,request:null,timeout:450},blurTimeout:250},isLayoutSize5:function(){ori.device.isFifthBreakpoint?self.options.spinnerClass=self.sel.searchWrapperFixed:(self.options.spinnerClass=self.sel.searchWrapperRWD,self.options.spiner={cssClass:"k-loading"})},getJSON:function(data,callback){window.clearTimeout(data.tick),data.tick=window.setTimeout((function(){var url=data.url+"?q="+self.$activeInput.val();data.request&&data.request.abort(),data.request=$.getJSON(url,(function(response){"function"==typeof callback&&callback(response)}))}),data.timeout)},getTemplates:function(callback){var options=self.options,query="?t=",templates=[self.sel.suggestionsTemplate,self.sel.miniSearchTemplate];options.isTemplateLoaded=!0,$(self.sel.quickShopTemplate).length||templates.push(self.sel.quickShopTemplate),query+=templates.join(",").replace(/#kendo-template-/g,""),$.ajax({url:options.templatesUrl+query,dataType:"html",complete:function(jqXHR,textStatus){var responseType="error";!{success:1,notmodified:1}[textStatus]?options.isTemplateLoaded=!1:($("body").append(jqXHR.responseText),responseType="success"),"function"==typeof callback&&callback(responseType)}})},onArrowKey:function(offset){var $currentItem,options=self.options,$searchInput=self.$activeInput,$suggestions=self.sel.$suggestions.children(),selectedPos=$suggestions.filter("."+options.selectedClass).removeClass(options.selectedClass).index(),len=$suggestions.length,value=$.data($searchInput[0],"value")||$searchInput.val();(selectedPos+=offset)<-1&&(selectedPos=len-1),selectedPos>=len||-1===selectedPos?($searchInput.val(value),$searchInput.focus()):($currentItem=$suggestions.eq(selectedPos).addClass(options.selectedClass),$searchInput.val($currentItem.html()),self.getMiniSearch())},recalculatePosition:function(){var $miniSearch=self.sel.$miniSearch,$miniSearchHeader=$(self.sel.miniSearchHeader),$searchInput=self.$activeInput,$searchPanel=$(self.sel.searchPanel),$gsaMiniSearch=$(self.sel.gsaMiniSearch),offset=$searchInput.offset(),leftOffset=86,isErrorPage=$gsaMiniSearch.parent(self.sel.wMiniSearch).length>0,isNewMenu=ori.nmainmenu||ori.shopByConcernMenu;self.getSize(),isErrorPage&&(leftOffset=0),isNewMenu&&!isErrorPage||(4==breakpoint?$miniSearch.css({left:offset.left-leftOffset,top:offset.top+$searchInput.outerHeight()}):$miniSearch.css({left:0,top:$searchPanel.outerHeight()})),0===$(".suggestions").length?$miniSearchHeader.hide():$miniSearchHeader.show()},createMiniSearchBox:function(){var options=self.options,sel=self.sel;sel.$miniSearch.hide().bind("mouseover# click#".replace(/#/g,"."+options.namespace),(function(e){var $trigger=$(e.target),$parent=$trigger.parent(),triggerClass=$trigger.attr("class")||"",parentClass=$parent.attr("class")||"",isSuggestion=parentClass.indexOf("suggestions")>-1,isSearchPhrase=triggerClass.indexOf("search-phrase")>-1,$searchInput=self.$activeInput,$searchForm=self.$activeForm;"mouseover"===e.type?isSuggestion&&$trigger.addClass(options.selectedClass).siblings("."+options.selectedClass).removeClass(options.selectedClass):isSuggestion?(e.preventDefault(),$searchInput.val($trigger.html()),$searchForm.submit()):(isSearchPhrase||triggerClass.indexOf("heading")>-1)&&(e.preventDefault(),$searchInput.focus(),window.clearTimeout(self.options.blurTick),isSearchPhrase?(self.getSuggestion(),self.getMiniSearch(),$searchInput.val($trigger.html())):parentClass.indexOf(options.collapsedClass)>-1&&($parent.children(self.sel.detailClass).slideDown(300,(function(){$parent.removeClass(options.collapsedClass)})),$parent.siblings(self.sel.resultsCategory).not("."+options.collapsedClass).addClass(options.collapsedClass).children(self.sel.detailClass).hide()))})),$("body").append(sel.$miniSearch)},getSuggestion:function(callback){self.hideSpinner(),ori.spinner.applyTo(self.options.spinnerClass,self.options.spiner);var kendoTemplate,options=self.options,$suggestionsTemplate=$(self.sel.suggestionsTemplate);$suggestionsTemplate.length&&(kendoTemplate=kendo.template($suggestionsTemplate.html(),{useWithBlock:!1}),self.getJSON(options.suggestion,(function(response){var isAnyResult=!1;self.sel.$suggestions&&self.sel.$suggestions.remove(),response&&response.results.length>0&&(self.sel.$suggestions=$(kendoTemplate(response)),$(self.sel.uiMiniSearchClass).prepend(self.sel.$suggestions),isAnyResult=!0),"function"==typeof callback&&callback(isAnyResult)})))},getSize:function(){try{breakpoint=ori.device.activeBreakpoint.index}catch(error){self.warning("Wasn't able to get current breakpoint setting from ori.device.")}return breakpoint},getMiniSearch:function(callback){var kendoTemplate,options=self.options,$miniSearchTemplate=$(self.sel.miniSearchTemplate);$miniSearchTemplate.length&&(kendoTemplate=kendo.template($miniSearchTemplate.html(),{useWithBlock:!1}),self.getJSON(options.miniSearch,(function(response){var isAnyResult=!1;self.sel.$miniSearchResults&&self.sel.$miniSearchResults.remove(),response&&(self.sel.$miniSearchResults=$(kendoTemplate(response)),self.sel.$miniSearch.append(self.sel.$miniSearchResults),$.trim(self.sel.$miniSearchResults.html())&&(isAnyResult=!0),self.hideSpinner(),self.sel.$miniSearchResults.children(self.sel.resultsCategory).addClass(options.collapsedClass).children(self.sel.detailClass).hide().end().removeClass(options.collapsedClass).children(self.sel.detailClass).show()),"function"==typeof callback&&callback(isAnyResult)})))},hideSpinner:function(){var spinerCssClass="",spinnerSelector=self.options.spinnerClass;null!=self.options.spiner&&null!=self.options.spiner.cssClass&&(spinnerSelector+=" ."+(spinerCssClass=self.options.spiner.cssClass)),$(spinnerSelector)&&ori.spinner.removeFrom(self.options.spinnerClass,spinerCssClass)},init:function(extendOption){$.extend(self.options,extendOption);var options=self.options,$searchForm=$(self.sel.searchForm),$miniSearch=self.sel.$miniSearch,$searchText=$(self.sel.searchText),$header=$(".htmlf .page-header"),data=$searchForm.data(),typingTimer=0,$searchPanel=$(".ui-beauty-search"),$clearButton=$searchPanel.find(".clear-button"),$searchBox=$searchPanel.find(".search-box");self.getSize(),self.sel.$searchInput=$searchForm.find('input[type="text"]'),self.options.suggestion.url=data.suggestionUrl,self.options.miniSearch.url=data.miniSearchUrl,self.options.templatesUrl=data.templatesUrl,self.createMiniSearchBox(),self.isLayoutSize5(),$searchForm.bind("click.miniSearch",(function(e){var $trigger=$(e.target);$searchForm.is(self.sel.activeClass)?$trigger.is(self.sel.closeClass)&&(e.stopPropagation(),self.hideSpinner(),$miniSearch.hide(),$searchText.val(""),$searchForm.removeClass(self.sel.activeClassName)):$searchForm.addClass(self.sel.activeClassName)})),$miniSearch.on("mousedown",self.sel.addToBasket,(function(e){e.preventDefault()})),$miniSearch.on("click",self.sel.addToBasket,(function(e){e.preventDefault();var basketData=$(this).data("basket");ori.basket&&ori.basket.addToBasket&&basketData&&ori.basket.addToBasket(basketData.productCode,basketData.quantity,basketData.cartAddType,basketData.productName),$miniSearch.hide()})),self.sel.$searchInput.after(self.sel.$closeButton).bind("keyup# keydown# focus# blur#".replace(/#/g,self.sel.miniSearch),(function(e){var delay,$searchInput=$(e.target),value=$searchInput.val(),len=value.length,show=function(isAnyResult){isAnyResult&&(self.recalculatePosition(),$miniSearch.show())},hide=function(){$miniSearch.hide()};if(-1!=$searchInput.val().indexOf("<")&&$searchInput.val($searchInput.val().replace(/</g,"")),self.$activeInput=$searchInput,self.$activeForm=$searchInput.closest("form"),"keydown"===e.type&&len&&clearTimeout(typingTimer),4===breakpoint)if(0===len&&self.hideSpinner(),"keyup"===e.type&&len)switch(e.keyCode){case 27:hide(),self.hideSpinner(),$header.trigger(self.sel.headerHide);break;case 38:self.onArrowKey(-1);break;case 40:self.onArrowKey(1);break;default:$.data($searchInput[0],"value",value),delay=1254/(1.5*len),self.options.suggestionTimeout=delay>250?delay:250,clearTimeout(typingTimer),typingTimer=setTimeout(doneTyping,self.options.typingDelay)}else"focus"!==e.type||options.isTemplateLoaded?"blur"===e.type&&(self.options.blurTick=window.setTimeout((function(){hide(),$header.trigger(self.sel.headerHide)}),self.options.blurTimeout)):self.getTemplates();else"keyup"===e.type&&len?(e.preventDefault(),$.data($searchInput[0],"value",value),delay=1254/(1.5*len),self.options.suggestionTimeout=delay>250?delay:250,clearTimeout(typingTimer),typingTimer=setTimeout(doneTyping,self.options.typingDelay)):"focus"!==e.type||options.isTemplateLoaded?"blur"===e.type&&(self.options.blurTick=window.setTimeout((function(){hide(),$header.trigger(self.sel.headerHide)}),self.options.blurTimeout)):self.getTemplates();function doneTyping(){self.getSuggestion(show),self.getMiniSearch(show)}}));var clickEvent=self.eventString(ori.device.isTouch?"touchend":"click"),recentSearchesCookie=$.cookie("recentSearches"),$recentSearch=$(".recent-search");$clearButton.length&&$clearButton.on(clickEvent,(function(event){event.preventDefault(),$searchBox.val("").focus(),$miniSearch.empty()})),$searchBox.length&&void 0!==recentSearchesCookie&&$searchBox.on(clickEvent,(function(){$recentSearch.toggleClass("hidden")}))}}),self=ori.miniSearch}(jQuery)},RksP:function(module,exports){!function($){"use strict";if("object"==typeof ori){var self,isNewLayout=!1;ori.popup.addModule("popupLogin",{sel:{ssoLoginSelector:".js-sso-login",ssoLogin:"#ssoLogin",newLoginSelector:".js-new-popup-login",newLogin:"#newLogin",smallSpinner:"k-loading",socialLogin:".social-login .secondary",loginForm:".w-login",loginFormSubmitButton:".submit-button",loginFormUserName:".w-control.login input",loginFormPassword:".w-control.password input"},newLoginUrl:"",ssoLoginUrl:"",ssoAdLoginUrl:"",changePasswordPopupUrl:"",selLoginPopup:"",currentBp:0,init:function(options){self.setOptions(options),isNewLayout=self.options.isNewLoginLayout;var $popupLogin=$(".popup-login");if($popupLogin.length&&""!=$popupLogin.data("login-url")&&$popupLogin.attr("href",$popupLogin.data("login-url")).removeAttr("data-login-url"),function initPopupLoginWindow(){var $loginLink=$(".js-popup-login-link");if(!$loginLink.length||"object"!=typeof ori.popup)return;var kendoLoginPopupWindow,$loginPopupWindow=ori.popup.preparePopupWindow("popup-login-window").addClass("k-window-no-overflow"),iframeContentLoaded=!1;function createPopupLoginWindow(){kendoLoginPopupWindow?kendoLoginPopupWindow.open():($loginPopupWindow.kendoWindow({iframe:!0,content:$loginLink.attr("href"),visible:!1,modal:!0,width:70+(isNewLayout?400:self.options.isNextShoppingEnabled?516:648),title:!1,resizable:!1,draggable:!1,open:function(){ori.spinner&&ori.spinner.applyOverlayTo("#popup-login-window")},activate:function(){iframeContentLoaded&&ori.spinner&&ori.spinner.removeOverlayFrom("#popup-login-window")},refresh:function(){ori.spinner&&ori.spinner.removeOverlayFrom("#popup-login-window"),iframeContentLoaded=!0}}),(kendoLoginPopupWindow=$loginPopupWindow.data("kendoWindow")).wrapper.find("iframe").attr({scrolling:"no",id:"popup-login-window-iframe"}),kendoLoginPopupWindow.open())}self.options.open&&ori.device.isFifthBreakpoint&&createPopupLoginWindow(),$loginLink.on(self.eventString("click"),createPopupLoginWindow)}(),self.bindSsoLoginEvents(),self.newLoginUrl=options.url.newLoginUrl,self.ssoLoginUrl=options.url.ssoLoginUrl,self.ssoAdLoginUrl=options.url.ssoAdLoginUrl,self.changePasswordPopupUrl=options.url.changePasswordPopupUrl,self.selLoginPopup=options.isNextShoppingEnabled?self.sel.ssoLogin:self.sel.newLogin,self.currentBp=ori.device.activeBreakpoint.index,self.parameterValue("open-login"))isNewLayout&&!options.isNextShoppingEnabled?ori.login.openNewLogin(self.newLoginUrl):createPopupLoginWindow();else if(!0===options.isNextShoppingEnabled){var isBp5=ori.device.isFifthBreakpoint;!0===options.open&&isBp5?self.openSsoLogin():!0===options.openChangePwd&&isBp5&&self.openChangePassword()}else isNewLayout&&function showNewPopupLoginWindow(options){$(self.sel.newLoginSelector).on(self.eventString("click"),(function(event){ori.login.openNewLogin(self.newLoginUrl)})),!0===options.open&&ori.device.isFifthBreakpoint&&self.openNewLogin()}(options);$(self.sel.ssoLoginSelector).on(self.eventString("click"),(function(e){e.ctrlKey||e.metaKey?window.location.href=self.ssoAdLoginUrl:self.openSsoLogin()}))},bindSsoLoginEvents:function(){var loginDialog=$(self.sel.ssoLogin).data("kendoWindow");loginDialog&&loginDialog.bind("close",self.onLoginDialogClosed).bind("activate",(function(){var $input=$(self.selLoginPopup).find("input.js-user-input");$input.length&&$input.focus()}))},onPopupScreenResize:function(){var bp12=ori.device&&ori.device.activeBreakpoint.index<=1,loginPopup=$(self.selLoginPopup).data("kendoWindow"),newBp=ori.device.activeBreakpoint.index;bp12&&loginPopup&&self.currentBp!==newBp&&loginPopup.close(),self.currentBp=newBp},openSsoLogin:function(username){var self=this,loginDialog=$(self.sel.ssoLogin).data("kendoWindow"),newUrl=self.ssoLoginUrl,urlSeparator=self.ssoLoginUrl.indexOf("?")>-1?"&":"?";window.location.href.indexOf("returnUrl")>-1&&(newUrl+=urlSeparator+"returnUrl="+self.getParameterByName("returnUrl",window.location.href),urlSeparator="&");username&&(newUrl+=urlSeparator+"userName="+username),loginDialog.open(),loginDialog.setOptions({autoFocus:!1}),ori.spinner.applyOverlayTo($(self.sel.ssoLogin)),$.ajax({url:newUrl,xhrFields:{withCredentials:!0}}).done((function(result){ori.device.unbindMedia(self.ns,self.onPopupScreenResize),ori.device.unbindResize(self.ns,self.onPopupScreenResize),loginDialog.content(result).center(),ori.spinner.removeOverlayFrom($(self.sel.ssoLogin)),ori.device.bindMedia(self.onPopupScreenResize,self.ns),ori.device.bindResize(self.onPopupScreenResize,self.ns)}))},openNewLogin:function(){ori.device.unbindMedia(self.ns,self.onPopupScreenResize),ori.device.unbindResize(self.ns,self.onPopupScreenResize),ori.login.openNewLogin(self.newLoginUrl),ori.device.bindMedia(self.onPopupScreenResize,self.ns),ori.device.bindResize(self.onPopupScreenResize,self.ns)},openChangePassword:function(){var self=this,loginDialog=$(self.sel.ssoLogin).data("kendoWindow");$.ajax({url:self.changePasswordPopupUrl,xhrFields:{withCredentials:!0}}).done((function(result){loginDialog.bind("close",self.onLoginDialogClosed).content(result).open()}))},getParameterByName:function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var results=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)").exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null},onLoginDialogRefreshed:function(dialog,message){dialog.element.find(".js-login-message").text(message)},onLoginDialogClosed:function(){ori.authorization.removeLoggedUserCookie();var event=document.createEvent("Event");event.initEvent("loginPopupClosed",!0,!0),document.documentElement.dispatchEvent(event)},initPopupLoginForm:function(){var self=ori.popup.popupLogin;$(".forgot-password-link").on(self.eventString("click"),self.forgotPasswordClickHandler),$(".js-login-popup-form").on(self.eventString("submit"),(function(){disableSubmitButton($(this))}))},initLoginForm:function(){var self=ori.popup.popupLogin;$(".js-login-tab-form").on(self.eventString("submit"),(function(){disableSubmitButton($(this))}))},forgotPasswordClickHandler:function(){var self=ori.popup.popupLogin,crossDomain=!1;try{parent.location.href}catch(error){crossDomain=!0}if(self.info("Calling forgot password window from page %s, cross-domain : %s ...",location.href,crossDomain),crossDomain)postMessage("?action=forgotPassword","*");else{var loginModule=parent.ori.popup.popupLogin||parent.ori.burgerMenu;if(!loginModule)return void self.warning("Login module or burger menu not found in parent page, can't call forgot password functionality.");loginModule.openForgotPasswordDialogue()}},onForgottenPassScreenResize:function(){var kendoForgotenPopup=$("#popup-forgotten-pass").data("kendoWindow");ori.device&&!ori.device.isFifthBreakpoint&&kendoForgotenPopup&&kendoForgotenPopup.destroy()},openForgotPasswordDialogue:function(){var messenger=ori.messenger,$forgottenPassWindow=ori.popup.preparePopupWindow("popup-forgotten-pass"),kendoLoginPopup=$("#popup-login-window").data("kendoWindow");"object"==typeof messenger&&($forgottenPassWindow.addClass("k-window-no-overflow"),kendoLoginPopup&&kendoLoginPopup.close(),$forgottenPassWindow.kendoWindow({content:"/system/UI/LoginPopup/ForgottenPassword",visible:!1,showOverlay:!0,width:470,title:!1,resizable:!1,draggable:!1,open:function(){if(isNewLayout){var kendoNewLoginPopup=$(self.sel.newLogin).data("kendoWindow");kendoNewLoginPopup&&kendoNewLoginPopup.close()}ori.spinner&&ori.spinner.applyOverlayTo("#popup-forgotten-pass")},deactivate:function(){messenger.off(self.eventString("iframeResized.popup")),this.destroy()},refresh:function(){var thisKendoWindow=this;messenger.on(self.eventString("iframeResized.popup"),(function(event){if(event.success){var iframeProps={},width="fixed"===event.width?"auto":parseInt(event.width)+70,height="fixed"===event.height?"auto":parseInt(event.height)+60;thisKendoWindow.setOptions({width:width,height:height}),"auto"!==width&&(iframeProps.width=width),"auto"!==height&&(iframeProps.height=height),thisKendoWindow.wrapper.find("#initForgotPasswordIfrm").attr(iframeProps),ori.spinner&&ori.spinner.removeOverlayFrom("#popup-forgotten-pass")}}))}}),$forgottenPassWindow.data("kendoWindow").open(),ori.device.unbindMedia(self.ns,self.onForgottenPassScreenResize),ori.device.unbindResize(self.ns,self.onForgottenPassScreenResize),ori.device.bindMedia(self.onForgottenPassScreenResize,self.ns),ori.device.bindResize(self.onForgottenPassScreenResize,self.ns))},openForgotPasswordDialogueBurgerMenu:function(){$(".forgot-password-link").click((function(){parent.postMessage("?action=forgotPasswordToggle&toggle=forgot","*")}))}}),self=ori.popup.popupLogin}function disableSubmitButton($form){var self=ori.popup.popupLogin;if($form.kendoValidator().data("kendoValidator").validate()){var $button=$(self.sel.loginFormSubmitButton,$form);$button.toggleClass(self.sel.smallSpinner+" right",!0),$button.prop("disabled",!0)}}}(jQuery)},SHaI:function(module,__webpack_exports__,__webpack_require__){"use strict";var Events_Scripts_ReadyHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("mnqS"),_ori_typescript_ioc__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Cl2I");const moveElements=value=>{[document.querySelector(".w-notification-banner"),document.getElementById("ui-inin-chat-open"),document.getElementById("back-to-top-button")].filter((element=>element)).forEach((element=>{value?element.style.transform=`translateY(-${value}px)`:element.style.removeProperty("transform")}))},observeOneTrust=()=>{const target=document.body;new MutationObserver(((mutations,observer)=>{mutations.every((()=>{const oneTrust=document.querySelector(".optanon-alert-box-wrapper");return!oneTrust||(observer.disconnect(),(oneTrust=>{const buttons=[document.querySelector(".optanon-allow-all.accept-cookies-button"),...document.querySelectorAll(".optanon-white-button-middle")],observer=new MutationObserver((mutations=>{mutations.forEach((mutation=>{const bannerHeight=oneTrust.offsetHeight,bannerPosition=parseInt(mutation.target.style.bottom,10);moveElements(bannerPosition+bannerHeight)}))}));if("none"!==oneTrust.style.display){const config={attributes:!0,attributeFilter:["style"]};observer.observe(oneTrust,config),buttons.forEach((element=>{element.addEventListener("click",(()=>{moveElements(oneTrust.style.display),observer.disconnect()}))}))}})(oneTrust),!1)}))})).observe(target,{childList:!0})};_ori_typescript_ioc__WEBPACK_IMPORTED_MODULE_1__.Container.get(Events_Scripts_ReadyHelper__WEBPACK_IMPORTED_MODULE_0__.a).bindDomReady((()=>{document.getElementById("fixed-bottom-area")||observeOneTrust()}))},"aG/0":function(module,exports){!function($){"use strict";var self;ori.addModule("oriTooltip",{defaults:{tooltipName:"js-ori-tooltip",animation:150,offset:-5,position:"top",width:170,showValue:!1,showValueType:"none",noValueFound:"Tooltip value not found.",tooltipError:"Tooltip error occurred.",tooltipValue:"tooltip-value",tooltipSecondValue:"tooltip-second-value",tooltipLink:"tooltip-link",tooltipTargetLabel:"tooltip-target-label",tooltipTarget:"tooltip-target",tooltipKpiNumber:".number",tooltipBusinessPlanningNumber:".value",autoHide:!0},options:{},init:function(){},addTooltip:function(tooltipName,options){options.tooltipName=null==tooltipName||""===tooltipName?self.defaults.tooltipName:tooltipName;var element="."+options.tooltipName;options=$.extend({},self.defaults,options),$(element).each((function(){null==$(this).data("kendoTooltip")&&$(this).kendoTooltip({content:function(e){var outputValue,numberText,value=self.getTooltipData(e,options.showValueType);return""!==value&&void 0!==value||(value=options.noValueFound,self.error(value)),numberText=1==options.showValue?"<br><b>"+value.targetLabel+"</b> "+value.target:"",outputValue=null==value.link||""==value.link?value.value+numberText:'<a class="highlighted-link" href="'+value.link+'">'+value.value+"</a>"+numberText,value.secondValue&&(outputValue+=(outputValue?"<br />":"")+value.secondValue),outputValue},offset:options.offset,position:options.position,width:options.width,autoHide:options.autoHide,error:function(e){self.error(options.tooltipError)}})}))},getTooltipData:function(e,showValueType){var dataTooltip={};return dataTooltip.value=e.target.data(self.defaults.tooltipValue),dataTooltip.secondValue=e.target.data(self.defaults.tooltipSecondValue),dataTooltip.link=e.target.data(self.defaults.tooltipLink),dataTooltip.targetLabel=e.target.data(self.defaults.tooltipTargetLabel),"kpi-bar"==showValueType?dataTooltip.target=e.target.prev(self.defaults.tooltipKpiNumber).text():"business-planning"==showValueType&&(dataTooltip.target=e.target.find(self.defaults.tooltipBusinessPlanningNumber).text()),dataTooltip}}),self=ori.oriTooltip,$((function(){self.init()}))}(jQuery)},"n/VA":function(module,exports){!function($){"use strict";if("object"==typeof ori){ori.addModule("popup",{sel:{defaultSelector:".lightbox",image:"img.lightbox",imageLink:"a.lightbox.image",gallery:".lightbox.gallery",flash:".lightbox.flash",video:".lightbox.video",videoOriPlay:".lightbox.video-ori-play",galleryPrevious:"#cboxPrevious",galleryNext:"#cboxNext"},lightBoxClass:"lightBoxClass",lightBoxClear:"lightBoxClear",videoLinkUrl:"additional-link",videoLinkTitle:"additional-link-title",alternateImage:"alternate-image",alternateText:"alternate-text",autoPlay:1,navDuration:300,popupOptions:{image:{innerWidth:0,innerHeight:0,maxWidth:"95%"},gallery:{rel:"ori"},flash:{innerWidth:640,innerHeight:480},video:{opacity:.7,videoWidth:853,videoHeight:505,innerWidth:853,innerHeight:540,maxWidth:"95%"},videoOriPlay:{innerWidth:853,innerHeight:505,customClass:"lightbox-oriplay"}},templates:{image:'<img name="im" src="{link}" class="light-box-image" />',flash:'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="{width}" height="{height}" id="{movieName}" align="middle"><param name="movie" value="{link}" /><param name="quality" value="high" /><param name="play" value="true" /><param name="wmode" value="window" /><param name="allowScriptAccess" value="sameDomain" /><param name="FlashVars" value="xml=" />\x3c!--[if !IE]>--\x3e<object type="application/x-shockwave-flash" data="{link}" width="{width}" height="{height}"><param name="movie" value="{link}" /><param name="quality" value="high" /><param name="play" value="true" /><param name="wmode" value="window" /><param name="allowScriptAccess" value="sameDomain" /><param name="FlashVars" value="xml=" />\x3c!--<![endif]--\x3e{alternateContent}\x3c!--[if !IE]>--\x3e</object>\x3c!--<![endif]--\x3e</object>',video:'<iframe src="http://www.youtube.com/embed/{link}?autohide=1&rel=0&autoplay={autoPlay}" style="width:{videoWidth}px;height:{videoHeight}px" allowfullscreen /><span tabindex="0" class="lightbox-additional-link link" onclick="top.location.href=\'{videoLinkUrl}\'">{videoLinkTitle}</span>',videoOriPlay:"/play/layer.jhtml?videoId={link}&itemId={link}&grcType=grcOriplay&oUrl={originalUrl}",alternateContent:'<a href="http://www.adobe.com/go/getflash"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" /></a>',advancedAlternateContent:'<div class="flash-fallback"><a href="{link}" class="link"><figure><img src="{alternateImage}" alt="{alternateText}" class="image" /><figcaption class="caption">{alternateText}</figcaption></figure></a></div>'},parserSettings:[[/{alternateContent}/g,"alternateContent"],[/{alternateImage}/g,"alternateImage"],[/{alternateText}/g,"alternateText"],[/{link}/g,"link"],[/{width}/g,"innerWidth"],[/{height}/g,"innerHeight"],[/{videoWidth}/g,"videoWidth"],[/{videoHeight}/g,"videoHeight"],[/{autoPlay}/g,"autoPlay"],[/{videoLinkUrl}/g,"videoLinkUrl"],[/{videoLinkTitle}/g,"videoLinkTitle"],[/{originalUrl}/g,"originalUrl"],[/{movieName}/g,"id"],[/{id}/g,"id"]],init:function(options){options&&jQuery.extend(!0,this,options)},getOptions:function($element,popupType){var result,self=ori.popup,opt=self.popupOptions;if(!popupType&&$element){for(var types=["image","gallery","flash","video","videoOriPlay"],i=0;i<types.length;i++)if($element.is(self.sel[types[i]])){popupType=types[i];break}popupType||$element.is(self.sel.imageLink)&&(popupType="image")}switch(popupType){case"image":result=opt.image,$element&&(result.link=$element.attr("src")||$element.attr("href")||"",result.link&&!result.href&&(result.href=result.link));break;case"gallery":result=jQuery.extend({},opt.image,opt.gallery);break;case"flash":opt.flash.html||(opt.flash.html=self.templates.flash),result=opt.flash,$element&&($element.data(self.alternateImage)&&(result.alternateImage=$element.data(self.alternateImage)),$element.data(self.alternateText)&&(result.alternateText=$element.data(self.alternateText)),result.link=$element.attr("src")||$element.attr("href")||""),result.alternateContent||(result.alternateImage&&result.alternateText?result.alternateContent=self.templates.advancedAlternateContent:result.alternateContent=self.templates.alternateContent);break;case"video":opt.video.html||(opt.video.html=self.templates.video),result=opt.video,$element&&(result.link=$element.attr("src")||$element.attr("href")||"",$element.data(self.videoLinkUrl)&&(result.videoLinkUrl=$element.data(self.videoLinkUrl)),$element.data(self.videoLinkTitle)&&(result.videoLinkTitle=$element.data(self.videoLinkTitle))),result.link&&(result.link=result.link.substring(result.link.lastIndexOf("/")+1)),result.videoLinkUrl?result.videoLinkTitle||(result.videoLinkTitle=result.videoLinkUrl):result.videoHeight&&(result.innerHeight=result.videoHeight);break;case"videoOriPlay":opt.videoOriPlay.html||(opt.videoOriPlay.html=self.templates.videoOriPlay,opt.videoOriPlay.iframe=!0),result=jQuery.extend({},opt.video,opt.videoOriPlay);break;default:result={},$element&&(result.link=$element.attr("src")||$element.attr("href")||"")}return $element&&$element.attr("id")&&(result.id=$element.attr("id")),result},parse:function(template,options){if(!template)return"";if("string"!=typeof template)return template;var ps=this.parserSettings,o=jQuery.extend({},options);o.innerWidth=(o.innerWidth||640)+"",o.innerHeight=(o.innerHeight||480)+"",o.videoWidth=(o.videoWidth?o.videoWidth:o.innerWidth)+"",o.videoHeight=(o.videoHeight?o.videoHeight:o.innerHeight)+"",o.videoLinkUrl=o.videoLinkUrl||"",o.videoLinkTitle=o.videoLinkTitle||"",o.originalUrl=o.originalUrl||"",o.autoPlay=(void 0===o.autoPlay?this.autoPlay:o.autoPlay)+"";for(var i=0;i<ps.length;i++)template=template.replace(ps[i][0],o[ps[i][1]]);return template},parseOptions:function(options){for(var parsed=["html","href"],result=jQuery.extend({},options),i=0;i<parsed.length;i++)result[parsed[i]]=this.parse(result[parsed[i]],result);return result},mobileYouTube:function(videoId){var self=ori.popup;videoId?(link=self.parse(self.templates.linkMobileYouTube,{link:videoId}),self.info("Loading mobile video page : %s",link),ori.redirect.setWindowLocation(link)):self.error("Empty video ID, can't load mobile video page.")},setupNavigation:function(){var self=ori.popup;jQuery(self.sel.galleryNext).css({opacity:"0.0"}).hover(self.galleryNavigationMouseEnterHandler,self.galleryNavigationMouseLeaveHandler),jQuery(self.sel.galleryPrevious).css({opacity:"0.0"}).hover(self.galleryNavigationMouseEnterHandler,self.galleryNavigationMouseLeaveHandler)},galleryNavigationMouseEnterHandler:function(){jQuery(this).animate({opacity:1},ori.popup.navDuration)},galleryNavigationMouseLeaveHandler:function(){jQuery(this).animate({opacity:0},ori.popup.navDuration)},preparePopupWindow:function(popupId){if(!$("#"+popupId).length)return $("body").append($("<div />").attr("id",popupId)),$("#"+popupId)},basketRemoveAllProducts:function(){var kendoEmptyBasketDialog,self=ori.popup,$removeAll=$(".js-remove-all"),$emptyBasketDialog=$("#empty-basket-dialog");$removeAll.length&&($emptyBasketDialog.kendoWindow({visible:!1,showOverlay:!1,title:!1,resizable:!1,draggable:!1,minWidth:260,maxWidth:420}).removeClass("hidden").data("kendoWindow"),kendoEmptyBasketDialog=$emptyBasketDialog.data("kendoWindow"),$removeAll.on(self.eventString("click"),(function(){kendoEmptyBasketDialog.center().open()})),$emptyBasketDialog.find(".cancel").on(self.eventString("click"),(function(){kendoEmptyBasketDialog.close()})))},resizeWindowIframe:function(options){(options=options||{}).width=options.width||"auto",options.height=options.height||"auto";var self=ori.popup,$sizeElement=jQuery("body"),iW="auto"==options.width?$sizeElement.outerWidth(!0):options.width,iH="auto"==options.height?$sizeElement.outerHeight(!0):options.height,crossDomain=!1;try{parent.location.href}catch(error){crossDomain=!0}if(self.info("Calling window iframe resize from page %s, \n\tIframe size to be set : %s x %s, cross-domain resize : %s ...",location.href,iW,iH,crossDomain),crossDomain)parent.postMessage("?action=resizeWindowPopup&frameid="+options.parentIframe+"&popupId="+options.parentWindowElement+"&width="+iW+"&height="+iH,"*");else{var $=parent.jQuery;if(!$)return void self.warning("jQuery plugin was not found in parent page");options.parentWindowElement&&$("#"+options.parentWindowElement).data("kendoWindow").setOptions({width:iW+80,height:iH+80})}}})}}(jQuery)},wc7s:function(module,exports){!function(window,$){"use strict";var self=ori.addModule("webApi"),actions={},TEST_URL_PREFIX="http://cz-eshop1-devtest.oriflame.com/iframe/api",_canUseStorage=null,eshopLoginPromise=null;function store(key,data){try{sessionStorage.setItem(key,data)}catch(error){return self.error("Couldn't store data : %s",error),!1}return!0}actions.PGDataCurrentPeriod={url:TEST_URL_PREFIX+"/pgdata/current",useStorage:!0,alwaysFetchNewData:!1},actions.PGDataLastPeriod={url:TEST_URL_PREFIX+"/pgdata/last",useStorage:!0,alwaysFetchNewData:!1},actions.PeriodsCurrentPeriod={url:TEST_URL_PREFIX+"/periods/currentperiod",useStorage:!0,alwaysFetchNewData:!1},actions.AANPrecalculated={url:TEST_URL_PREFIX+"/aan/pgnews",useStorage:!0,alwaysFetchNewData:!1},actions.AANRefresh={url:TEST_URL_PREFIX+"/aan/pgnews?refresh=true",useStorage:!0,alwaysFetchNewData:!0},actions.PGDataWelcomeProgram={url:TEST_URL_PREFIX+"/pgdata/welcomeprogram",useStorage:!0,alwaysFetchNewData:!1},actions.ConsultantWelcomeProgram={url:TEST_URL_PREFIX+"/consultant/welcomeprogram",useStorage:!0,alwaysFetchNewData:!1},actions.AANInStickyBar={url:TEST_URL_PREFIX+"/aan/alerts",useStorage:!0,alwaysFetchNewData:!1},actions.BusinessPlanning={url:TEST_URL_PREFIX+"/bpm/details",useStorage:!0,alwaysFetchNewData:!1},actions.ConsultantConferences={url:TEST_URL_PREFIX+"/Consultant/Conferences",useStorage:!0,alwaysFetchNewData:!1},actions.PGData={url:TEST_URL_PREFIX+"/CustomCIS/PGData",useStorage:!0,alwaysFetchNewData:!1},actions.Consultant={url:TEST_URL_PREFIX+"/CustomCIS/Consultant",useStorage:!0,alwaysFetchNewData:!1},actions.V4Menu={url:TEST_URL_PREFIX+"/menu/v4menu",useStorage:!0,alwaysFetchNewData:!1},actions.initSso={url:"/System/UI/EShop/LoadPartialPage/?ds=%7b984C3E8E-77E3-4286-BBCD-1EC707C64B98%7d",useStorage:!1,alwaysFetchNewData:!0},actions.Finance={url:TEST_URL_PREFIX+"/consultant/finance",useStorage:!0,alwaysFetchNewData:!0},actions.OnlineSelling={url:TEST_URL_PREFIX+"/consultant/onlineselling",useStorage:!0,alwaysFetchNewData:!1},actions.Profile={url:TEST_URL_PREFIX+"/consultant/profile",useStorage:!0,alwaysFetchNewData:!1},actions.TrendsPrecalculated={url:TEST_URL_PREFIX+"/aan/trends",useStorage:!0,alwaysFetchNewData:!1},actions.TrendsRefresh={url:TEST_URL_PREFIX+"/aan/trends?refresh=true",useStorage:!0,alwaysFetchNewData:!0},actions.ConsultantOrderingTools={url:TEST_URL_PREFIX+"/consultant/orderingtools",useStorage:!0,alwaysFetchNewData:!1},actions.YourBusiness={url:TEST_URL_PREFIX+"/aan/yourbusiness",useStorage:!0,alwaysFetchNewData:!1},actions.YourBusinessRefresh={url:TEST_URL_PREFIX+"/aan/yourbusiness?refresh=true",useStorage:!0,alwaysFetchNewData:!1},actions.CustomerEcts={url:TEST_URL_PREFIX+"/customer/ects",useStorage:!0,alwaysFetchNewData:!1},actions.TermsAndConditions={url:TEST_URL_PREFIX+"/consultant/acceptterms",useStorage:!0,alwaysFetchNewData:!0},actions.GetSurveyLink={url:TEST_URL_PREFIX+"/nps/getsurveylink",useStorage:!0,alwaysFetchNewData:!0},actions.SsoLoginLink={url:TEST_URL_PREFIX+"/iframe/AjaxSSO.aspx",useStorage:!0,alwaysFetchNewData:!1},actions.ConferenceQualifications={url:TEST_URL_PREFIX+"/consultant/conferencequalifications",useStorage:!0,alwaysFetchNewData:!1},actions.ConferencesList={url:TEST_URL_PREFIX+"/consultant/conferenceslist",useStorage:!0,alwaysFetchNewData:!1},self.append({options:{fakeData:!1,actions:actions,userKeyCookieName:"UserKey",requiresServerAuthentication:!1,requestTimeout:30},init:function(options){self.setOptions(options),self.initialized=!0},canUseStorage:function(){if(self.sessionStorageAvailable||(_canUseStorage=!1),null!==_canUseStorage)return _canUseStorage;var tokenName=self.options.userKeyCookieName||"UserKey",tokenActual=$.trim($.cookie(tokenName)||""),tokenStored=$.trim(sessionStorage.getItem(tokenName)||"");return tokenStored?((_canUseStorage=tokenActual===tokenStored)?self.info("Saved session storage validity token '%s' matches. Session storage data can be used for current user.",tokenStored):(self.info("Saved session storage validity token '%s' doesn't match with current token '%s'. Previously saved session storage data can't be used for current user."),store(tokenName,tokenActual)),_canUseStorage):((_canUseStorage=store(tokenName,tokenActual))?self.info("Saved new session storage validity token: '%s'.",tokenActual):self.warning("Couldn't save session storage validity token. Can't use data from session storage."),_canUseStorage)},loadData:function(options){var storedData=null;function callEshopWebApi(options){return $.ajax({url:options.url,data:options.requestData,dataType:options.url&&"/"==options.url.charAt(0)?"json":"jsonp",contentType:"application/json",timeout:options.requestTimeout})}function loadSuccess(resultData){resultData&&resultData.Success?(self.info("Eshop web API data for action '%s' successfully loaded : %o.",options.action,resultData),"function"==typeof options.onSuccess&&options.onSuccess(resultData),options.useStorage&&self.sessionStorageAvailable&&(options.alwaysFetchNewData||!storedData)&&self.storeData(options.action,resultData),self.triggerDataLoaded(options.action,resultData)):loadError(null,null,"Eshop web API data action failed"+(resultData&&resultData.Message?" "+resultData.Message:"")+".",resultData)}function loadError(xhr,textStatus,errorThrown,resultData){var responseText=xhr?xhr.responseText:void 0,errorText="";responseText&&(errorText=$.trim([errorText,responseText].join(" "))),textStatus&&(errorText=$.trim([errorText,textStatus].join(" "))),errorThrown&&(errorText=$.trim([errorText,errorThrown].join(" "))),self.error(options.action+" eshop web API call failed : %s",errorText),"function"==typeof options.onError&&options.onError(responseText,textStatus,errorThrown),self.triggerDataLoadFailed(options.action,errorText,resultData)}return options.alwaysFetchNewData||(options.alwaysFetchNewData=!self.canUseStorage(),options.useStorage=!options.alwaysFetchNewData),options.action?((options=$.extend({},self.options.actions[options.action],options)).requestTimeout=1e3*parseInt(self.options.requestTimeout||0),options.url?(self.info("Eshop web API data requested, action : %s, url : %s, data : %o",options.action,options.url,options.requestData),options.useStorage&&!options.alwaysFetchNewData&&(storedData=self.getStorageData(options.action)),void(options.useStorage&&storedData?loadSuccess(storedData):self.options.fakeData?callEshopWebApi(options).done(loadSuccess).fail(loadError):self.initializeCommunication((function(){callEshopWebApi(options).done(loadSuccess).fail(loadError)}),(function(){loadError(null,null,"Eshop login failed",null)})))):(self.error("URL for action %s not specified in options, can't call eshop web API.",options.action),void loadError(null,null,"URL not specified in options",null))):(self.error("Action not specified in options, can't call eshop web API."),void loadError(null,null,"Action not specified in options",null))},triggerApiInitialized:function(){self.info("Trigerring eshopWebApiInitialized event");var event=$.Event("eshopWebApiInitialized");self.trigger(event)},triggerDataLoaded:function(action,data){self.info("Trigerring eshopWebApiDataLoaded event, action : %s ...",action);var event=$.Event("eshopWebApiDataLoaded",{action:action,data:data});self.trigger(event)},triggerDataLoadFailed:function(action,error,data){self.info("Trigerring eshopWebApiDataLoaded event, action : %s ...",action);var event=$.Event("eshopWebApiDataLoadFailed",{error:error,action:action,data:data});self.trigger(event)},getStorageData:function(storageKey){if(!self.canUseStorage()||!storageKey)return null;try{var value=sessionStorage.getItem(storageKey);if(!value)return self.info("No previously saved data in storage for key '%s'.",storageKey),null;self.info("Getting saved data from sessionStorage for key '%s' ...",storageKey);var data=JSON.parse(value);return self.info("Successfully parsed data from session storage from key '%s'.",storageKey),data||null}catch(error){return self.error("Couldn't get data from session storage : %s",error),null}},storeData:function(storageKey,data){if(self.sessionStorageAvailable)try{self.info("Stringifying storage data for key '%s' ...",storageKey);var value=JSON.stringify(data);self.info("Saving loaded data in sessionStorage under key '%s' ...",storageKey),sessionStorage.setItem(storageKey,value)}catch(error){self.error("Couldn't store data : %s",error)}else self.info("Session storage not available. Data couldn't be stored and will be loaded again on each page where needed.")},getStorageKeys:function(){var keys=[];if(!self.sessionStorageAvailable)return keys;for(var key in self.options.actions)self.options.actions.hasOwnProperty(key)&&!0===self.options.actions[key].useStorage&&keys.push(key);return keys},initializeCommunication:function(completeCallback,failedCallback){var loginStatus=self.getStorageData("SsoLoginLink");function setEshopCookies(){var deferred=$.Deferred(),options=self.options.actions.SsoLoginLink;return $.ajax({url:options.url,dataType:"jsonp",contentType:"application/json",timeout:3e4}).done((function(returnedValue){returnedValue>-1?deferred.resolve():deferred.reject("Eshop login returned value: "+returnedValue)})).fail((function(jqXHR){deferred.reject("Status code: "+jqXHR.status)})),deferred}function loginSuccess(){self.info("Login to eshop successful"),self.triggerApiInitialized(),self.storeData("SsoLoginLink",{LoggedIn:!0,LastAttempt:new Date})}function loginFailed(data){self.storeData("SsoLoginLink",{LoggedIn:!1,LastAttempt:new Date}),self.error("Eshop cookies cannot be set. Login to Eshop failed : %s",JSON.stringify(data))}function callCallbackFunction(callback){"function"==typeof callback&&callback()}loginStatus&&loginStatus.LoggedIn?callCallbackFunction(completeCallback):!function isLoginAllowed(loginStatus){var nextAttempt=new Date;return nextAttempt.setMinutes(nextAttempt.getMinutes()-1),!(loginStatus&&loginStatus.LastAttempt&&new Date(loginStatus.LastAttempt)>nextAttempt)}(loginStatus)?callCallbackFunction(failedCallback):(eshopLoginPromise||(eshopLoginPromise=self.options.requiresServerAuthentication?$.post("/System/UI/EShopLogin/OriSalesLoginAsync","json").then(setEshopCookies,(function ajaxLoginFailed(data){self.storeData("SsoLoginLink",{LoggedIn:!1,LastAttempt:new Date}),self.error("Ajax for server login to eshop failed. Couldn't login to Eshop : %s",JSON.stringify(data))})).done(loginSuccess).fail(loginFailed):setEshopCookies().done(loginSuccess).fail(loginFailed)),eshopLoginPromise.done(completeCallback).fail(failedCallback))}})}(window,jQuery)},xnls:function(module,exports){!function($){"use strict";var self;"object"==typeof ori&&(ori.addModule("messenger",{options:{applyAtInit:!0,allowedDomains:[]},actionsMap:{},iframes:{},init:function(options){self.setOptions(options),self.options.applyAtInit&&self.connectReceiver()},transceiver:function(iframeId,message){var iframe=document.getElementById(iframeId);iframe&&(iframe=iframe.contentWindow),iframe?("orientationChange"==message&&(message='{"action" : "orientationChange", "iframeId" : "'+iframeId+'", "orientation" : "'+window.orientation+'"}'),self.info("Sending message %s to iframe with ID '%s' ...",message,iframeId),iframe.postMessage(message,"*")):self.warning("Couldn't send message, iframe with ID '%s' was not found.",iframeId)},connectReceiver:function(){$(window).on("message",self.receiveMessage).on("unload",self.disconnectReceiver),self.info("Message events receiver connected.")},disconnectReceiver:function(){$(window).off("message",self.receiveMessage).off("unload"),ori.messenger.info("Message events receiver disconnected.")},receiveMessage:function(event){if(event){var data=event.originalEvent?event.originalEvent.data:event.data,origin=event.originalEvent?event.originalEvent.origin:event.origin,domains=self.options.allowedDomains;if($.isArray(domains)&&domains.length){var ok=!1;for(var d in domains)if(origin==d){ok=!0;break}if(!ok)return void self.warning("Unsecure message from %s : %s",origin,data)}self.parseMessage(data)}else self.error("Event object empty, can't receive message properly.")},getMessageParam:function(msg,paramName){return self.parameterValue(paramName,msg)},parseMessage:function(msg){if(msg){self.info("Parsing message '%s' ...",msg);var act=self.getMessageParam(msg,"action");if(act)if(self.actionsMap&&self.actionsMap[act])if(act=self.actionsMap[act],"function"==typeof self[act])try{self[act](msg)}catch(error){self.error("Executing method '%s' : %s.",act,error)}else self.error("Can't execute '%s', not a method.",act);else self.warning("Can't find action for '%s'.",act);else self.info("Empty action parameter, ignoring message : '%s'",msg)}else self.info("Empty message, parsing message will be skipped.")},addAction:function(actionName,methodName,methodReference){actionName&&methodName?(methodReference&&"function"!=typeof methodReference&&(self.warning("Method reference must be a function. Reseting it to null now."),methodReference=null),methodReference&&(self[methodName]=methodReference),self.actionsMap||(self.actionsMap={}),self.actionsMap[actionName]=methodName,self.info("Message action '%s' was added successfully.",actionName),self[methodName]||self.warning("Method '%s' is not defined yet.",methodName)):self.error("Action name or method name not specified, can't add message action.")},removeAction:function(actionName){actionName?self.actionsMap&&self.actionsMap[actionName]?delete self.actionsMap[actionName]:self.error("Action '%s' not found, can't remove message action.",actionName):self.error("Action name not specified, can't remove message action.")}}),self=ori.messenger,$((function(){self.init()})))}(jQuery)}},[[451,"manifest","vendors","common"]]]);
//# sourceMappingURL=ori.legacy.production.core.bundle.js.bd3fcaa81f2b834fd3c98d5ba4fe2f6b.map
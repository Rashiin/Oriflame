(window.onlineWebpackJsonp=window.onlineWebpackJsonp||[]).push([["cutShort"],{514:function(module,exports,__webpack_require__){module.exports=__webpack_require__("N3Yt")},N3Yt:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _Utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("pHrJ");!function(window,$){var animationCounter,self=ori.addModule("cutShort"),isInitRequested=!1;function animateHeader($header,maxHeight,duration){$header.animate({height:maxHeight},{duration:duration,progress:function(){++animationCounter>1&&function stopHeaderAnimation($header,maxHeight){parseInt($header.height())>=maxHeight+1&&$header.stop(!0,!1)}($header,maxHeight)}})}const throttledDelayedCutShortInit=_Utils__WEBPACK_IMPORTED_MODULE_0__.a.throttle((()=>function delayedCutShortInit(){isInitRequested||(window.requestAnimationFrame(requestAnimationFrameCallback),isInitRequested=!0)}()),500);function requestAnimationFrameCallback(){isInitRequested=!1,self.init()}self.append({isInitialized:!1,options:{LinkClass:"highlighted-link"},init:function(customOptions){$.extend(self.options,customOptions);var $textNodes=(customOptions&&customOptions.context?$(customOptions.context):$(document)).find(".js-cut-short"),$testNode=$('<span style="line-height:inherit;display:none;">&nbsp;</span>'),$more=$('<span class="more '+self.options.LinkClass+'" />'),$less=$('<span class="less '+self.options.LinkClass+'" />');ori.device&&!self.isInitialized&&(ori.device.bindMedia(throttledDelayedCutShortInit,self.ns),ori.device.bindResize(throttledDelayedCutShortInit,self.ns),self.disconnectOwnEventsOnWindowUnload(),self.isInitialized=!0),$textNodes.each((function(index,el){var dataLines,lineHeight,$currentNode=$(el),originalHtml=$currentNode.html(),$parent=$currentNode,$header=$parent,maxHeight=null,after=$currentNode.attr("data-after-selector"),moreText=$currentNode.attr("data-show-more"),lessText=$currentNode.attr("data-show-less"),lines=2;if($currentNode.append($testNode),null!==$currentNode.attr("data-lines-to-show")){dataLines=$currentNode.attr("data-lines-to-show");try{dataLines=JSON.parse(dataLines)}catch(error){self.info("Data is not object",error)}}"object"==typeof dataLines&&null!==dataLines&&ori&&ori.device&&ori.device.activeBreakpoint&&void 0!==dataLines[ori.device.activeBreakpoint.index]?lines=dataLines[ori.device.activeBreakpoint.index]:"number"==typeof dataLines&&dataLines>0&&(lines=dataLines),lineHeight=$testNode.height()||15,$testNode.detach();var options={ellipsis:"… ",height:lines*lineHeight,tolerance:2,keep:after};!after&&moreText&&(options.callback=function(){$more.clone().text(moreText)});var background=$currentNode.attr("data-parent-background");background&&function backgroundChange(element,background){var image,imageElement;(image=new Image).src=background,imageElement=element.find("img"),image.onload=function(){imageElement.attr("src",image.src)}}($currentNode.closest(".ui-category-header"),background),$currentNode.bind("click.cutShort",".more, .less",(function(e){var content,$trigger=$(e.target),data=$parent.data(),minHeight=$header.data("minHeight")||parseInt($header.height());$header.data("minHeight",minHeight),($trigger.hasClass("more")||$trigger.hasClass("less"))&&(data.cutFull&&$trigger.hasClass("more")?(content=data.cutFull,$header.removeClass("more").addClass("less"),$parent.empty().append(content),animationCounter=0,animateHeader($header,maxHeight,450)):data.cutFull?(content=data.cutShort,$header.removeClass("less").addClass("more"),$parent.empty().append(content),$header.animate({height:minHeight,duration:450})):(content=$parent.triggerHandler("originalContent").add($less.clone().text(lessText)),data.cutFull=content,$header.removeClass("more").addClass("less"),$header.height(minHeight),$parent.empty().append(content),maxHeight=$header.prop("scrollHeight"),animationCounter=0,animateHeader($header,maxHeight,450)))})).dotdotdot(options).data("cutShort",$currentNode.html());var pattern=new RegExp("^\\s*… ","gi");$currentNode.text().match(pattern)&&($currentNode.html(originalHtml),options.truncate="letter",$currentNode.dotdotdot(options))}))}})}(window,jQuery)}},[[514,"manifest","vendors","common"]]]);
//# sourceMappingURL=cutShort.bundle.js.1c648b9c0b0d4a2ba10b5bebc5df6890.map
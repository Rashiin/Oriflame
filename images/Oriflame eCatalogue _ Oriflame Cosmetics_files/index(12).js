/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t="add-basket-offer",n="add-to-basket";!function(e){e.BUY_FOR_MONEY="BUY_FOR_MONEY",e.BUY_FOR_POINTS="BUY_FOR_POINTS"}(e||(e={}));var r,o="analytics",i=function(e){var t=function(e){var t={originalEventType:e.type,originalEventDetail:e.detail};return new CustomEvent(o,{detail:t})}(e);window.dispatchEvent(t)},a="bambuser-live-shopping";!function(e){e.ShowStarted="show-started",e.ShowEnded="show-ended",e.AddToBasket="add-to-basket",e.ChatMessage="chat-message",e.LikeButtonClicked="like-button-clicked"}(r||(r={}));var c,u,d="banner-click",s="banner-data-loaded",l="clear-basket",p="download-file",v="express-checkout-button-click",f="follow-us-item-click",g="link-click",m="newsletter-subscribe",y="olapic-popup-product-clicked",b="personal-product-list";!function(e){e.Create="create",e.Update="update",e.Delete="delete"}(c||(c={})),function(e){e.Personal="personal",e.Private="private"}(u||(u={}));var w,h="product-click",O="product-data-loaded",C="remove-basket-item",I="search-suggestion-click",E="share-item-click",k="social-media-library";!function(e){e.ContentFilter="contentFilter",e.ItemClick="itemClick",e.ShareClick="shareClick",e.DownloadClick="downloadClick"}(w||(w={}));var j="toggle-favorite",S="update-basket-item";function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A="user-action";var D="user-registered",L="video-play",R="virtual-page";function N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var B=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=N({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var c=decodeURIComponent(i[0]);if(r[c]=t.read(a,c),e===c)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",N({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,N({},this.attributes,t))},withConverter:function(t){return e(N({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const F=B;var x=["mobileApp","mobileAppMode","mobileAppVersion"],M="DOMContentLoaded",_=new Promise((function(e){if("loading"===document.readyState){document.addEventListener(M,(function t(){document.removeEventListener(M,t),e(!0)}))}else setTimeout((function(){return e(!0)}))}));function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var V;function z(){var e,t,n,r={customerNewType:null!==(e=V.CustomerTypeIdAfterUpgrade)&&void 0!==e?e:null,customerOldType:null!==(t=V.CustomerTypeIdBeforeUpgrade)&&void 0!==t?t:null,event:"userUpgraded",upgradedUserId:V.ConsultantId};null===(n=window.dataLayer)||void 0===n||n.push(r)}function H(){var e,t,n={consultantId:V.ConsultantId,event:"login",loginType:null!==(e=V.LoginType)&&void 0!==e?e:null};null===(t=window.dataLayer)||void 0===t||t.push(n)}function J(){var e,t,n,r,o={consultantId:V.ConsultantId,event:"registerConsultant",registeredConsultantId:null!==(e=V.RegisteredConsultantNumber)&&void 0!==e?e:"",registrationType:null!==(t=V.RegistrationType)&&void 0!==t?t:"",sponsorNumber:null!==(n=V.SponsorNumber)&&void 0!==n?n:""};null===(r=window.dataLayer)||void 0===r||r.push(o)}function q(){var e,t,n,r,o,i,a={customerTypeId:null!==(e=V.RegisteredCustomerTypeId)&&void 0!==e?e:0,event:"user-registered",registeredUserId:null!==(t=V.RegisteredConsultantNumber)&&void 0!==t?t:"",registrationChannel:null!==(n=V.RegistrationChannel)&&void 0!==n?n:"",registrationType:null!==(r=V.RegistrationType)&&void 0!==r?r:"",sponsorNumber:null!==(o=V.SponsorNumber)&&void 0!==o?o:"",signUpDate:V.RegistrationSingUpDate,visitorSegment:V.RegistrationVisitorSegment};null===(i=window.dataLayer)||void 0===i||i.push(a)}function G(){V.IsLoggedInEvent&&_.then(H,void 0),V.IsConsultantRegistrationEvent&&_.then(J,void 0),V.IsCustomerRegistrationEvent&&_.then(q,void 0),V.IsCustomerUpgradeEvent&&_.then(z,void 0)}function $(e){var t;V=e,void 0===window.dataLayer&&(window.dataLayer=[]),void 0===window.gtag&&(window.gtag=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=window.dataLayer)||void 0===e?void 0:e.push.apply(e,n)}),(t=document.createElement("script")).async=!0,t.src="//www.googletagmanager.com/gtm.js?id="+V.GtmId,document.head.insertAdjacentElement("afterbegin",t),function(){var e,t,n,r=(U(t={consultantId:V.ConsultantId,customerId:V.CustomerId,customerTypeId:V.CustomerTypeId,event:"gtm.js"},"gtm.start",Date.now()),U(t,"periodId",V.PeriodId),U(t,"signUpDate",null!==(e=V.SignUpDate)&&void 0!==e?e:""),U(t,"visitorSegment",V.VisitorSegment),t);null===(n=window.dataLayer)||void 0===n||n.push(r)}(),function(){var e,t={};x.forEach((function(e){var n=F.get(e);n&&(t[e]=n)})),Object.keys(t).length&&(null===(e=window.dataLayer)||void 0===e||e.push(t))}(),G()}var K=function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event:e.detail.originalEventType},e.detail.originalEventDetail);null===(t=window.dataLayer)||void 0===t||t.push(n)};function Q(e){V=e,G()}var W=!1,X=[],Z=[t,n,a,d,s,l,p,v,f,g,m,y,b,h,O,C,I,E,k,j,S,A,D,L,R];function ee(e){var t=document.getElementById(e);if(!t||!t.innerHTML)throw new TypeError("Analytics provider configuration wasn't set properly.");var n=t.innerHTML;return JSON.parse(n)}function te(){Q(ee("analytics-provider-data-partial"))}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(){if(!W){$(ee("analytics-provider-data")),X.push(K),W=!0;window.addEventListener(o,(function(e){return X.forEach((function(t){return t(e)}))})),window.addEventListener("handle-partial-view-analytics",te),Z.forEach((function(e){return window.addEventListener(e,i)}))}}(),re(document.querySelectorAll("[data-ori-events-user-action]")).forEach((function(e){e.dataset.isUserActionInitialized||(e.addEventListener("click",(function(){var t=e.dataset.oriEventsUserAction;if(t){var n=JSON.parse(t);!function(e,t){window.dispatchEvent(new CustomEvent(A,{detail:P({metaHierarchy:e},void 0!==t&&{numberValue:t})}))}(n.metaHierarchy,n.numberValue)}})),e.dataset.isUserActionInitialized="1")}))})();
//# sourceMappingURL=index.js.map